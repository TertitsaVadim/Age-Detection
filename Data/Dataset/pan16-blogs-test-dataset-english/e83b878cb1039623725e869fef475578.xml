<?xml version="1.0" encoding="UTF-8" standalone="no"?><author age_group="xx" gender="xx" lang="EN" type="blog" url="sproke.blogspot.com.es">
	<documents count="25">
		<document id="a68f9418b2d2d4aa88456f478b34c73d" url="http://sproke.blogspot.com/2011/06/give-us-thunderdome.html"><![CDATA[<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">The FOSS4G WMS Shootout is <a href="http://en.wiktionary.org/wiki/bikeshedding">bikeshedding</a>. I have the utmost respect to the WMS Shootout/Benchmarking participant teams, but the exercise is pointless. There should be a new and more relevant competition for web map servers. There should be Thunderdome.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">First things first, this is lower case wms — web map server, not the deceased Web Map Service specification. Similar to the <a href="http://programming-motherfucker.com/">Programming M*therf*cker manifesto</a>, we do one thing in Thunderdome: we serve maps.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Second, there is no such thing as a level playing field in the <a href="https://twitter.com/#!/cageyjames/status/84309761666985985">real world</a>. Assuming all things being equal and spherical cows is fine for theory, but the world doesn't work that way. So the first rule is no limits on technology or architecture, if a vendor wants to spend a million dollars, no problem! The catch is that the architecture, tweaks, and costs have to be disclosed. To make this a little more realistic, the infrastructure has to be deployed on approved Amazon Machine Images (AMIs) and the billing has to be&nbsp;publicly&nbsp;available. So deploy one machine or deploy a cluster of a 100 machines, doesn't matter. We want to see the price/performance ratio.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Third, all participants must serve the same data set. You choose the backend: file, database, or NoSQL — your choice, doesn't matter. Again your architecture is fully documented, including indexes built, connection pooling, etc. We're after configuration and maintenance information.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Fourth, the prescribed set data and maps must be served in a format or protocol supported by OpenLayers. This means no plugins. WMS, tiles, GML, GeoJSON, ArcGIS, whatever works best. Have at it, just as long as it can be retrieved by OpenLayers. Why OpenLayers? It has the best support for a variety of formats and protocols of all the javascript mapping libraries.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Fifth, users will be able to download a tool similar in design to <a href="http://en.wikipedia.org/wiki/LOIC">Anonymous' LOIC</a> (Low Orbit Ion Canon) to fully exercise each system for a week. This geoLOIC, as it were, will send the appropriate requests to the targeted system. This tool will gather real world performance across a variety of platforms and network conditions, the results will be sent back to the organizers at the conclusion of the test.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Sixth, logs for each server will record down time, response time, and other metrics. If a geoLOIC shuts down a server, the team has to get it back up. Uptime is crucial.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">All, participant data will be presented across a standard set of metrics such as uptime, total response time, response time at the server and cost. All documentation, logs, etc will be&nbsp;publicly&nbsp;available.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">The goal of wms Thunderdome is develop a set of statistics that implementors can use to evaluate web map servers across a variety of axis whether it be price/performance, availability/cost, maintenance/performance, etc.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Now go listen to the creepy man's intro.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;"><object class="BLOGGER-youtube-video" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" data-thumbnail-src="http://3.gvt0.com/vi/pHU6K47qgc8/0.jpg" height="385" width="480"><param name="movie" value="http://www.youtube.com/v/pHU6K47qgc8&fs=1&source=uds" /><param name="bgcolor" value="#FFFFFF" /><embed width="480" height="385"  src="http://www.youtube.com/v/pHU6K47qgc8&fs=1&source=uds" type="application/x-shockwave-flash"></embed></object></div><span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span>
]]>
		</document>
		<document id="2b382e3cbda859a30cdf28fc4000fff1" url="http://sproke.blogspot.com/2011/06/recovering-google-io-samsung-galaxy-tab.html"><![CDATA[<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Short Story</b></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Several days after an OTA update to Honeycomb, my Google I/O Galaxy Tab crashed and went into a constant reboot state. These are the steps I used to recover. Note that this will delete all your personal data in the /data directory</span><br />
<ol>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Download </span><span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><a href="http://developer.htc.com/adp.html#s2">fastboot</a></span><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">, you will need this tool to get to the recovery screen. Unzip it and make sure it is executable:&nbsp;</span><br />
<br />
<br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>chmod 755 fastboot-mac
</code></pre>
<br />
</li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Put the Tab into recovery mode by holding the Power button and Volume Down. The screen should look like this:&nbsp;</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-mwQ9QRNca3A/Tf5bMB2SDhI/AAAAAAAAAiU/djV00uIVJ_4/s1600/P1060379.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="360" src="http://4.bp.blogspot.com/-mwQ9QRNca3A/Tf5bMB2SDhI/AAAAAAAAAiU/djV00uIVJ_4/s640/P1060379.JPG" width="640" /></a></div>
<br />
</li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Select USB by clicking on Volume Down, click on Volume Up to confirm. Plug the Tab into your computer</span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Download <a href="http://droidbasement.com/galaxy/sys-backup/recovery.zip">recovery.zip</a> and unzip it</span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Fastboot the Tab (I used the parameters from <a href="http://forum.xda-developers.com/showthread.php?t=1117524&amp;page=10">here</a>):</span><br />
<br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>./fastboot-mac -p 0x0700 -i 0x0955 boot recovery.img
</code></pre>
<br />
</li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">On the Tab, use the Volume control to a factory reset. This will reformat /data — note that all your data will be deleted.</span><br />
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-KvfvP6MzIpw/Tf5b4bqa6XI/AAAAAAAAAiY/xva0iw1FuYo/s1600/P1060380.JPG" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="360" src="http://4.bp.blogspot.com/-KvfvP6MzIpw/Tf5b4bqa6XI/AAAAAAAAAiY/xva0iw1FuYo/s640/P1060380.JPG" width="640" /></a></div>
</li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Reboot the Tab.</span></li>
</ol>
<div>
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Long Story</b></span></div>
<div>
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">I tried a number of methods to recover the Tab without losing data. I tried to use <a href="http://droidbasement.com/db-blog/?p=2035">Droid Basement's Guide</a>&nbsp;to recover the Tab, but I was stymied by /data. When the Tab booted using fastboot, the /data directory was mounted read only. &nbsp;I tried mounting /data rw&nbsp;numerous times&nbsp;via adb shell but every time I tried to write to /data it immediately reverted to a ro state. Reformatting /data seemed to the remaining choice.</span></div>
<div>
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">If you want to do more with the Galaxy Tab, I highly recommend <a href="http://droidbasement.com/db-blog/">Droid Basement</a> for hacks and images.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br /></span><br />
<span class="Apple-style-span" style="color: red; font-family: Verdana, sans-serif;"><b>UPDATE 4/19/2012</b></span></div>
<div>
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">If you need to recover files, you can used the <a href="http://droidbasement.com/galaxy/recovery/recovery-cwm_4.0.0.4-sam-tab-10.1-061611.zip" target="_blank">Clockwork Recovery image</a> instead of the stock recovery image.</span><br />
<br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>./fastboot-mac -p 0x0700 -i 0x0955 boot recovery-cwm_4.0.0.4-sam-tab-10.1.img
</code></pre>
<br />
<span style="font-family: Verdana, sans-serif;">Mount the /data directory from the Clockwork Recovery meny and navigate to the directory containing the files you want to retrieve. You can then use adb from the <a href="http://developer.android.com/sdk/index.html" target="_blank">Android SDK</a> to retrieve the files.</span><br />
<br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>./adb pull /data/media/DCIM/Camera/20120415_191707.mp4
</code></pre>
<br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
]]>
		</document>
		<document id="aef12021323c6d74f22969165deabe27" url="http://sproke.blogspot.com/2011/06/summarizing-why-wms-is-dead.html"><![CDATA[<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">At the urging of @wonderchook I did an Ignite talk at WhereCampDC titled: WMS is Dead</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;"><object class="BLOGGER-youtube-video" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" data-thumbnail-src="http://3.gvt0.com/vi/HjQmTpaznOc/0.jpg" height="266" width="320"><param name="movie" value="http://www.youtube.com/v/HjQmTpaznOc&fs=1&source=uds" /><param name="bgcolor" value="#FFFFFF" /><embed width="320" height="266"  src="http://www.youtube.com/v/HjQmTpaznOc&fs=1&source=uds" type="application/x-shockwave-flash"></embed></object></div><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">I feel that I've flogged this issue enough but nothing like putting in finishing nails in the coffin to tidy it up.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Architecture and Scaling</b></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">WMS was designed in the late 1990's, when we really didn't understand how the web worked at scale. I think that the dominant mental model of web services at that time was RPC and it's evident in the architecture of OGC W*S. The architecture was designed to mimic GIS systems, so WMS requests are standardized RPC calls to an abstract model of a GIS. Where WMS went wrong was that it ignored existing Web standards and that the Web's architecture and infrastructure was optimized for delivering documents via links. Ignoring URIs to retrieve standard well known mime types such as pngs contributes to it's clunky interface. Retrieving tiles via URIs is a Web native operation; whilst sending long requests to create a single document is not. That being said, I believe that layering a REST interface over WMS is a futile exercise in trying to hang with the cool kids. As Bruce Sterling often says, "Good luck with that."<a href="http://www.blogger.com/post-edit.g?blogID=3812785271700903620&amp;postID=1522194353841209394#HTML"><sup>1</sup></a></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Cartography</b></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">In WMS, you make make maps with SLD. I can't say enough that SLD is a bad idea. XML is for data, it should not be perverted in a single configuration, query, and pseudo programming language.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Projections</b></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Projections have been cited as one reason WMS is superior to tile based mapping. My response is that Web mapping is a different medium from traditional cartography. In traditional cartography, the map maker has only the X and Y dimensions to convey information; which makes projections one of the most important tools for the cartographer. In web mapping, we have n dimensions to present information from info bubbles to interactive tools. Projections are still important for operations that require measurement, but that occurs on the backend and is less important for presentation.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><b>Interoperability</b></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">WMS fails at interoperability because it is implemented at the application level. Chaining together a bunch of applications through a series of client requests does not result in a performant web application. In addition, WMS stateless (request/response) operations bypass web native optimizations such as HTTP caching; which has led to software such a <a href="http://mapproxy.org/">MapProxy</a> to overcome this shortcoming. Again this is a bandaid solution to a deeper architectural problem.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Interoperability should take into consideration how the Web is designed rather than providing an overlay that implements loosely-coupled client-server like architecture over the Internet. This means that interoperability should occur at a much lower level than application to application communications, such as data and document types.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">I think that the prevalence of tile servers proves the point that URIs plus well known mime types trumps Web RPC. Data is out of the scope of WMS since it is primarily designed as a presentation interface (with lots of kruft), but I think it is important to the future of Web mapping as well as interoperability.&nbsp;</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">When the W*S standards were under initial development, OGC made a bet that XML would rule the day; which is understandable since XML was the new hotness at the time. Implicit in this assumption was that XML parsers would improve, especially in the browser. However, as this <a href="http://blog.mongolab.com/?p=23">blog explains</a>, developers are tired of writing XML parsers and use JSON instead. JSON is a well supported and compact way to serialize data that trusts that the developer will use good taste to unpack the data instead of mandating the download of XML schema. The rise of fast and powerful Javascript engines as well as server side Javascript such as node.js was certainly not predictable. This does not bode well for W*S standards, which will be overcome by events even more quickly. For the INSPIRE folks, "Good luck with that."</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">I feel that the direction of Web mapping will be tied to Javascript on both the client and server side. We are already seeing this with the popularity of TileMill which uses node.js and client scripting libraries such as Leaflet and ModestMaps-JS. Like it or not, this direction in Web mapping is organic instead of top down from a standards body.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
<br />
<sup>1</sup><span class="Apple-style-span" style="font-size: x-small;">In all fairness, WMS was designed to retrieve a map dynamically based on a user's request. The use case was not, "I want a fast background map with data sprinkles"; which is the real world use case.</span><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span>
]]>
		</document>
		<document id="22501d5612ff829833c889bcb411ca6c" url="http://sproke.blogspot.com/2011/07/loading-shapefiles-into-elasticsearch.html"><![CDATA[<span class="Apple-style-span" style="line-height: 22px;"><span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><span style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; vertical-align: baseline;">Elasticsearch</span>&nbsp;is an open source (Apache 2), distributed, RESTful, search engine built on top of&nbsp;<span class="Apple-style-span" style="color: black;"><a href="http://lucene.apache.org/" style="background-attachment: initial; background-clip: initial; background-color: transparent; background-image: initial; background-origin: initial; border-bottom-left-radius: 3px 3px; border-bottom-right-radius: 3px 3px; border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-left-radius: 3px 3px; border-top-right-radius: 3px 3px; border-top-width: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 2px; padding-right: 2px; padding-top: 0px; text-decoration: none; vertical-align: baseline;">Lucene</a>. </span></span></span><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;">Elasticsearch supports point data as a </span><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/mapping/geo-point-type.html">geo_point</a></span><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"> data type; which provides several types of spatial search:</span><br />
<ul><li><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/query-dsl/geo-distance-filter.html">distance filter</a></span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/query-dsl/geo-distance-range-filter.html">distance range filter</a></span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/query-dsl/geo-bounding-box-filter.html">bounding box filter</a></span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/query-dsl/geo-polygon-filter.html">polygon filter</a></span></li>
<li><span class="Apple-style-span" style="font-family: Verdana, sans-serif; line-height: 22px;"><a href="http://www.elasticsearch.org/guide/reference/api/search/facets/geo-distance-facet.html">distance facets</a></span></li>
</ul><div><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">Elasticsearch provides a REST API for configuring, loading, and querying data. It also has a bulk loading interface. To load shapefiles into elastic search I wrote a <a href="https://gist.github.com/1117027">ruby script to convert shapefiles</a> to Elasticsearch's bulk loading format. Here's the process for loading multiple shapefiles as multiple types into a single index (think of an index as a 'database' and types as 'tables').</span></div><div><span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span></div><div><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">If you haven't installed Elasticsearch, <a href="http://www.elasticsearch.org/download/2011/07/27/0.17.2.html">download it</a>, unzip it, and read the README file to start the node.</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">1. Create the index</span></div><pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XPUT 'http://localhost:9200/geo/'</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">2. Create a mapping file (place.json) in your favorite editor. This example is for a shapefile called place</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>{
    "place" : {
        "properties" : {
            "geometry": {
                "properties": {
                    "coordinates": {
                        "type": "geo_point"
                    }
                }
            }
        }
    }
}</code></pre><pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XPUT http://localhost:9200/geo/place/_mapping -d @place.json</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">3. Convert the shapefile to the ES bulk format.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>ruby shapefile2elasticsearch.rb &gt; place_data.json</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">4. Bulk load the data.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XPUT 'http://localhost:9200/_bulk/' --data-binary @place_data.json</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">5. Test query.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XGET 'http://localhost:9200/geo/place/_search' -d '{
    "query": {
        "filtered": {
            "query": {
                "match_all": {}
            },
            "filter": {
                "geo_distance": {
                    "distance": "20km",
                    "geometry.coordinates": {
                        "lat": 32.25,
                        "lon": -97.75
                    }
                }
            }
        }
    }
}'</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">6. Add a second type definition for zipcodes:</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>{
    "zipcode" : {
        "properties" : {
            "geometry": {
                "properties": {
                    "coordinates": {
                        "type": "geo_point"
                    }
                }
            }
        }
    }
}</code></pre><pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XPUT http://localhost:9200/geo/place/_mapping -d @zipcode.json</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">7. Convert and bulk load the data.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XPUT 'http://localhost:9200/_bulk/' --data-binary @zipcode_data.json</code></pre><span class="Apple-style-span" style="font-family: Verdana, sans-serif;">8. Test query.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>curl -XGET 'http://localhost:9200/geo/zipcode/_search' -d '{
    "query": {
        "filtered": {
            "query": {
                "match_all": {}
            },
            "filter": {
                "geo_distance": {
                    "distance": "20km",
                    "geometry.coordinates": {
                        "lat": 32.25,
                        "lon": -97.75
                    }
                }
            }
        }
    }
}'
</code></pre>
]]>
		</document>
		<document id="cb99e9b8863731c9a627cd746d92a7bf" url="http://sproke.blogspot.com/2011/10/conferences-and-workshop-materials.html"><![CDATA[<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">At FOSS4G 2011, I gave a workshop on Deploying Map Services on Amazon Web Services. The materials are here:&nbsp;<a href="https://github.com/spara/aws_foss4g_2011">https://github.com/spara/aws_foss4g_2011</a></span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span class="Apple-style-span" style="font-family: Verdana, sans-serif;">I'll be presenting "Mapping: What in the Wide, Wide World of Sports Is Going On?" at the 2011 Texas GIS Forum. The presentation is here:&nbsp;<a href="http://prezi.com/mc7wstzgky5-/mapping-what-in-the-wide-wide-world-of-sports-is-going-on/">http://prezi.com/mc7wstzgky5-/mapping-what-in-the-wide-wide-world-of-sports-is-going-on/</a></span>
]]>
		</document>
		<document id="da875a1319bc39dbc29a230a0039ac03" url="http://sproke.blogspot.com/2012/01/importing-2010-sf1-census-in-postgresql.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">The Census Bureau provides a <a href="http://www2.census.gov/census_2010/04-Summary_File_1/SF1_Access2003.mdb">template</a> <a href="http://sf1_access2007.accdb/">MS Access database</a> for importing&nbsp;</span><span style="font-family: Verdana, sans-serif;">fixed width/comma delimited &nbsp;</span><span style="font-family: Verdana, sans-serif;"><a href="http://www2.census.gov/census_2010/04-Summary_File_1/">SF1 files</a>. Nice if you have MS Acess, which I don't.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">With the help of <a href="http://mdbtools.sourceforge.net/">MDBTools</a>, I extracted the schema (using the mdb-schema command) from the Census provided template database. With a little bit of sed/awk/vi munging I converted the the schema into valid sql&nbsp;<a href="https://gist.github.com/1590982" target="_blank">script</a>&nbsp;that creates the SF1 tables in PostgreSQL.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">Create a data base and run the script to create the tables</span><br />
<pre style="background-color: #eeeeee; border-bottom-color: rgb(153, 153, 153); border-bottom-style: dashed; border-bottom-width: 1px; border-image: initial; border-left-color: rgb(153, 153, 153); border-left-style: dashed; border-left-width: 1px; border-right-color: rgb(153, 153, 153); border-right-style: dashed; border-right-width: 1px; border-top-color: rgb(153, 153, 153); border-top-style: dashed; border-top-width: 1px; color: black; line-height: 14px; overflow-x: auto; overflow-y: auto; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; padding-top: 5px; width: 100%;"><code><span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;"><span style="font-size: 12px;">createdb SF1_2010
psql SF1_2010 -f </span></span></code><span style="font-family: 'Andale Mono', 'Lucida Console', Monaco, fixed, monospace;"><span style="font-size: 12px;">create_SF1_tables.sql</span></span></pre><span style="font-family: Verdana, sans-serif;">You can import all or just the ones you need. For example, I wanted the total population count by age and sex by census tract. The <a href="http://www.census.gov/prod/cen2010/doc/sf1.pdf" target="_blank">2010 Summary File 1 document</a> shows the file containing the data I wanted (Chapter 6 The Data Dictionary), which was in xx000172010.sf1.&nbsp;</span><span style="font-family: Verdana, sans-serif;">Use the postgres copy command to import the data tables.</span><span style="font-family: Verdana, sans-serif;">&nbsp;</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>COPY sf1_00017 FROM '/path/to/xx000172010.sf1' CSV;</code></pre><span style="font-family: Verdana, sans-serif;">The SF1 database also provides a geo_header table common to all SF1 data files. Unlike the SF1 data files, which are comma delimited, the geo_header file uses fixed length records. This can be imported with a bit file munging and some <a href="http://www.postgresonline.com/journal/archives/157-Import-fixed-width-data-into-PostgreSQL-with-just-PSQL.html" target="_blank">sql foo</a>. The first step is to read the geoheader into a temporary table with each line as a record. There's a <a href="https://gist.github.com/1590991" target="_blank">script</a> for this also.</span><br />
<span style="font-family: Verdana, sans-serif;"></span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>CREATE TABLE geo_header_staging (data text);
COPY geo_header_staging FROM '/path/to/dcgeo2010.sf1' DELIMITER AS '|';</code></pre><span style="font-family: Verdana, sans-serif;">Note that "|" is used as a delimiter to read the entire line. &nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">The second part is to use PostgreSQL's string functions to extract the values and insert them into the correct field in the geo_header table. Writing the sql would have taken some time, but fortunately the Census provides a <a href="http://www2.census.gov/census_2010/01-Redistricting_File--PL_94-171/pl_geohd_2010.sas">SAS import script</a> which I used as a starting point. With some more sed/awk/cut/paste/vi munging, I produced an <a href="https://gist.github.com/1590966">import script</a>.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>psql SF1_2010 -f geo_header_to_postgresql.sql</code></pre><span style="font-family: Verdana, sans-serif;">This will create a PostgreSQL database with a valid geo_header table that you can use for querying by census geography. The primary key is logrecno, which ties together the geography with the data. Query for the logrecno for the geography of interest, then query for the data using the logrecno.</span><br />
<pre style="background-color: #eeeeee; border: 1px dashed #999999; color: black; font-family: Andale Mono, Lucida Console, Monaco, fixed, monospace; font-size: 12px; line-height: 14px; overflow: auto; padding: 5px; width: 100%;"><code>SELECT logrecno from geo_header_sf1 WHERE tract ='192200' AND sumlev ='140' AND name = ' Census Tract 1922';

SELECT * FROM sf1_00017 WHERE logrecno ='69229';
</code></pre><span style="font-family: Verdana, sans-serif;">After selecting and summarizing the data, I produced a population pyramid. Whew!</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-OtADNrLCw1o/TwuDoaKTFtI/AAAAAAAAAbc/-09LtgujM2o/s1600/Picture+20.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="304" src="http://1.bp.blogspot.com/-OtADNrLCw1o/TwuDoaKTFtI/AAAAAAAAAbc/-09LtgujM2o/s320/Picture+20.png" width="320" /></a></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, sans-serif;"><br />
</span></div><div class="separator" style="clear: both; text-align: left;"><span style="font-family: Verdana, sans-serif;">* Thank you to <a href="https://twitter.com/richgibson" target="_blank">@richgibson</a> for corrections</span></div><span style="font-family: Verdana, sans-serif;"><br />
</span>
]]>
		</document>
		<document id="8d8ede4397fdad82f0d5c3ef7691e804" url="http://sproke.blogspot.com/2012/02/game-changer-open-source-mapping-in.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">One of the trepidations I have with teaching mapping courses using open source is that it usually requires some modicum of programming which is always way beyond the scope of any beginner class about making maps. &nbsp;In addition, open source tends to favor linux or unix based tool chains that require config/make/make install tap dance before starting anything. This is akin to telling folks that they will need to forge their tools before they can start building a dog house. Finally, <a href="http://marketshare.hitslink.com/operating-system-market-share.aspx?qprid=8" target="_blank">84% of the computers</a>&nbsp;and (in my experience) 100% of the training facilities&nbsp;</span><span style="font-family: Verdana, sans-serif;">in the world run some variant of Windows, which means that people have to depend on the kindness of strangers who compile and distribute Windows binaries.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">While the sheer&nbsp;<a href="http://blog.infochimps.com/2011/09/09/mapping-tools-for-developers/" target="_blank">number of mapping related programs has exploded</a>, the learning curve has yet to flatten significantly so that the average Windows user can produce maps without sending&nbsp;sizable&nbsp;checks and bits of their soul to Redlands. Until now.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">Two tools, QGIS and Postgres/PostGIS, have had windows implementations and are well on their way to being polished products with fantastic user communities that extend their capabilities. The QGIS plug-in architecture has fostered a number of repositories with plugins ranging from basic geometry manipulation to domain specific analysis. The Windows 1.7.3 Wroclaw version also includes GRASS and msys, which is a shell environment containing common unix tools such as sed and awk – mainstays in my data crunching/munging tool kit.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">Postgres/PostGIS installation is also very polished thanks to EnterpriseDB's Stackbuilder installer. It simplifies PostGIS installation as well as providing ODBC drivers needed for communicating with Microsoft products. PostGIS 2.0 has not been released and is not included in the current installer, but the final release will include routing, geocoding, and many improvements that are already available in the alpha 2.0 release.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">The real game changer is the release of TileMill for Windows. &nbsp;TileMill is a cartographic studio that uses Mapnik, which is described:</span><br />
<blockquote class="tr_bq">
<span style="font-family: Verdana, sans-serif;"><span style="background-color: #fbfbfb;">"<i>Mapnik is about making beautiful maps. It uses the AGG library and offers world class anti-aliasing rendering with subpixel accuracy for geographic data.</i>"</span>&nbsp;</span></blockquote>
<span style="font-family: Verdana, sans-serif;">That means no more jagged lines that you see on both web maps and print maps produced by commercial GIS programs. TileMill uses MSS (Map Style Sheets) to make maps; it's rather bare bones in that there is no tool to select a feature and set the line style, color, or fill in a menu. You have to create each style using MSS in a TileMill editor, fortunately TileMill syntax is simple and mirrors CSS so that designers can use it. Calling TileMill a cartographic studio is a stretch. For example, it lacks tools for automatically symbolizing categorical or continuous variables, or include a basic set of cartographic markers. &nbsp;What it does do very well is produce beautiful maps. Labeling is generally well done in terms of distribution, collision avoidance, and kerning along curves. Output formats include png, svg, pdf and mbtiles, which is a compact tile format that is gaining traction especially for mobile devices.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-1h1-2jp9oPg/TyuLP5zcqVI/AAAAAAAABNM/68OjvHLaEAQ/s1600/Screen+Shot+2012-01-25+at+3.30.03+PM.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="566" src="http://4.bp.blogspot.com/-1h1-2jp9oPg/TyuLP5zcqVI/AAAAAAAABNM/68OjvHLaEAQ/s640/Screen+Shot+2012-01-25+at+3.30.03+PM.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><span style="font-family: Verdana, sans-serif; font-size: small;">Red dot fever is a meme that won't die*</span></td></tr>
</tbody></table>
<span style="font-family: Verdana, sans-serif;">The lack of a really good cartographic tool has been the achilles heel for the adoption open source mapping, but TileMill plugs that deficiency. Windows users, henceforth known as the 84%, can now store and manipulate geospatial data in PostGIS, analyze and modify the data in QGIS, and publish it using TileMill.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">This is an introduction to series of articles on using open source mapping software in Windows. The next install will cover installation, finding data, and loading it into PostGIS.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;">*Yes, that's an OSX screenshot, that's what happens when I stay up past my bedtime. On second thought, let's just say I'm lazy.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<span style="font-family: Verdana, sans-serif;">UPDATE:&nbsp;<a href="http://sproke.blogspot.com/2012/02/mapping-software-for-84.html" target="_blank">Second part in this series</a>
</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span>
]]>
		</document>
		<document id="fcdc23449aebaf4cc61036f2a86f1ae5" url="http://sproke.blogspot.com/2012/02/mapping-software-for-84.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">This article covers downloading, installing, and loading spatial data into PostGIS using QGIS. It also covers working with tabular data using unix command line tools. The goal of these articles is to perform typical GIS tasks using data published on the web with open source Windows mapping tools. As with many GIS tasks the final output will be maps that are suitable for printing or for display in a web browser. Although the final output are maps, I want to push a little beyond styling a pre-processed set of data and into the area of creating new data through analysis.</span><br />
<b style="font-family: Verdana, sans-serif;"><br />
</b><br />
<b style="font-family: Verdana, sans-serif;">Download and Install</b><br />
<span style="font-family: Verdana, sans-serif;">Download and install the following software:</span><br />
<ul>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://hub.qgis.org/projects/quantum-gis/wiki/Download#Standalone-Installer-recommended-for-new-users" target="_blank">QGIS</a>&nbsp;1.7.3</span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://www.enterprisedb.com/products-services-training/pgdownload#windows" target="_blank">Postgres/PostGIS</a>&nbsp;9.1.2-1 (x86-32)</span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://mapbox.com/tilemill/" target="_blank">TileMill</a>&nbsp;0.9</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">QGIS and TileMill are straight forward. Postgres installs first (take note of your username and password) then launches the Application Stack Builder for installing PostGIS. Check off PostGIS and the ODBC connector is also handy when connecting to Microsoft formats.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-1fkZUvmtf2M/Tyy0FxOsQQI/AAAAAAAABNc/ohaZJ6bfqlM/s1600/Stack_Builder.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="271" src="http://3.bp.blogspot.com/-1fkZUvmtf2M/Tyy0FxOsQQI/AAAAAAAABNc/ohaZJ6bfqlM/s400/Stack_Builder.png" width="400" /></a></div>
<span style="font-family: Verdana, sans-serif;"><b>Download data</b></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">We will use data from several sources to for our analysis and maps.&nbsp;</span></div>
<div class="separator" style="clear: both; text-align: left;">
</div>
<ul>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://downloads.cloudmade.com/americas/northern_america/united_states/texas/texas.shapefiles.zip" target="_blank">OSM data for a base map</a> </span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="ftp://ftp2.census.gov/geo/tiger/TIGER2010/COUNTY/2010/tl_2010_48_county10.zip" target="_blank">Census TIGERLine county shape files</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="ftp://ftp2.census.gov/geo/tiger/TIGER2010/ZCTA5/2010/tl_2010_48_zcta510.zip" target="_blank">Census TIGERLine zipcode shape files</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://ritter.tea.state.tx.us/SDL/Schools2010.zip" target="_blank">Texas Education Agency school shape files</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://ritter.tea.state.tx.us/SDL/Districts_10_11.zip" target="_blank">Texas Education Agency school district shape files</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://ritter.tea.state.tx.us/cgi/sas/broker?_service=marykay&amp;_program=acctres.drp_0910_campdown_csv.sas" target="_blank">Texas Education Agency school campus dropout rates CSV file</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://ritter.tea.state.tx.us/cgi/sas/broker?_service=marykay&amp;_program=acctres.drp_0910_distdown_csv.sas" target="_blank">Texas Education Agency school district dropout rates CSV file</a></span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">Download the shape files and unzip them into a single directory. Note that the TEA (Texas Education Agency) site assigns the same name to both the campus and district dropout rate csv files, so use the 'Save as' option to give the files unique names when downloading the files. Also of importance are the metadata describing the TEA files.</span></div>
<div>
<ul>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://www.tea.state.tx.us/acctres/drop_annual/0910/clayout.html" target="_blank">Campus metadata</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://www.tea.state.tx.us/acctres/drop_annual/0910/dlayout.html" target="_blank">District metadata</a></span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;"><b>Loading spatial data into PostGIS</b></span></div>
</div>
<div>
<span style="font-family: Verdana, sans-serif;">I'll start by saying PostGIS isn't necessary for spatial analysis. Shape files, geoson,spatialite, etc are all perfectly acceptable data formats that can be consumed by QGIS and/or TileMill. The main advantage of using PostGIS in this context is data management with the added bonus of being able to performing spatial operations if you are willing to learn SQL. We'll touch on using SQL in subsequent articles but as always there is more than one way to do any task. For those not quite ready to jump into learning SQL, QGIS can act as front end for PostGIS.</span><br />
<br />
<i style="font-family: Verdana, sans-serif;">Buckets</i><br />
<br />
<span style="font-family: Verdana, sans-serif;">Postgres is a relational database and there are a number of best practices associated with building and maintaining transactional databases. We're going to chuck all of that aside, because like the honey badger, spatial data doesn't care about 3rd normal form or referential integrity. We're going to treat databases as big buckets of gooey geo goodness.</span><br />
<br />
<span style="font-family: Verdana, sans-serif;">First we're going to create a database using PGAdmin III, which is a graphical frontend for Postgres included in the install.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-NjibckWJ-y4/Ty1qaXzeXJI/AAAAAAAABNk/V4gYvXcnYCE/s1600/pgadmin.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-NjibckWJ-y4/Ty1qaXzeXJI/AAAAAAAABNk/V4gYvXcnYCE/s1600/pgadmin.png" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Your Postgres instance should be already connected but in case it isn't, please see this <a href="http://www.pgadmin.org/docs/1.8/connect.html" target="_blank">page</a>. Add a new database by right clicking on 'Databases'&gt;'New Database'</span></div>
<div class="separator" style="clear: both; text-align: left;">
<a href="http://3.bp.blogspot.com/-rPFGoa5iUKs/Ty1sRiKMbpI/AAAAAAAABNs/xEdRtBnnHp4/s1600/create_database.png" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" height="384" src="http://3.bp.blogspot.com/-rPFGoa5iUKs/Ty1sRiKMbpI/AAAAAAAABNs/xEdRtBnnHp4/s640/create_database.png" width="640" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Name the new database 'texas'</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-6PNoTrRxVEE/Ty1trnDtwQI/AAAAAAAABOE/PKxEY7U7-9E/s1600/new_database.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://4.bp.blogspot.com/-6PNoTrRxVEE/Ty1trnDtwQI/AAAAAAAABOE/PKxEY7U7-9E/s400/new_database.png" width="382" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Click on the 'Definition' tab, and select 'template_postgis' as the Template and click 'OK'. Template_postgis is a predefined database that contains the Postgis tables and spatial functions. Congratulations, you've made a bucket!</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-VDZpKliI-PM/Ty1uQDleJHI/AAAAAAAABOM/QHNDoTzScxw/s1600/set_template.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://1.bp.blogspot.com/-VDZpKliI-PM/Ty1uQDleJHI/AAAAAAAABOM/QHNDoTzScxw/s400/set_template.png" width="383" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><i>Reprojecting data in QGIS</i></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Previously we downloaded a number of shape files from the Census, TEA and Cloudmade's OpenStreet Map extract of Texas. It's always a good idea to check the .prj or metadata files associated with the shape file. The OSM and Census files are both in WGS84, but the TEA files are in the Texas Centric Mapping System projection. For the purposes of this project, we'll use QGIS to reproject the TEA files to WGS84. Then load the shape files using SPIT in QGIS.</span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">First add the TEA shape files. Click on Layer&gt;Add Vector Layer</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-hKHo1gZ0-ik/Ty3AnX3F0fI/AAAAAAAABOU/DIXwE91IHL0/s1600/add_vector.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="192" src="http://1.bp.blogspot.com/-hKHo1gZ0-ik/Ty3AnX3F0fI/AAAAAAAABOU/DIXwE91IHL0/s400/add_vector.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Browse to the directory the TEA files are in and select them. Click OK to complete.</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-C0fmKcKtnSk/Ty7DLmIrQxI/AAAAAAAABOc/GpeYYweZh_Y/s1600/tea_qgis.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="275" src="http://4.bp.blogspot.com/-C0fmKcKtnSk/Ty7DLmIrQxI/AAAAAAAABOc/GpeYYweZh_Y/s400/tea_qgis.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Select 'Schools2010' and right click and select 'Save as...'</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-7omm_-Q75lY/Ty7FU8G52jI/AAAAAAAABOk/siVeQNB8s18/s1600/save_as.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-7omm_-Q75lY/Ty7FU8G52jI/AAAAAAAABOk/siVeQNB8s18/s320/save_as.png" width="283" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Browse to the directory to save the file and name it 'tea_school_campus'</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-eTWtjNACpZw/Ty7H_dr3yBI/AAAAAAAABOs/cTZEyRLZKnU/s1600/save_vector_as.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://3.bp.blogspot.com/-eTWtjNACpZw/Ty7H_dr3yBI/AAAAAAAABOs/cTZEyRLZKnU/s320/save_vector_as.png" width="271" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Next we'll set the output CRS (projection) to WGS84. Click 'Browse' on the CRS field and select WGS84 under the 'Geographic Coordinate Systems' list or use the 'Search' box to find it. Click 'Ok' with WGS84 selected. Then click 'OK' to reproject and save the file.</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-rHNc8e9KiCI/Ty7Kfle2oHI/AAAAAAAABO0/rAmjJXTnJ9U/s1600/save_crs.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="309" src="http://3.bp.blogspot.com/-rHNc8e9KiCI/Ty7Kfle2oHI/AAAAAAAABO0/rAmjJXTnJ9U/s320/save_crs.png" width="320" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">Repeat the same process for the Districts_10_11 shape file.</span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><i>From QGIS to PostGIS</i></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">We'll use SPIT (<span style="background-color: white; color: #222222; line-height: 16px;">Shapefile to PostGIS Import Tool</span>) to import the shape files into PostGIS. Click 'Database'&gt;'Spit'&gt;'Import Shapefiles to PostGIS'</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-kU52dyDdWNY/Ty7SWD5cR4I/AAAAAAAABO8/UZ_uKAXG-V4/s1600/spit.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="141" src="http://4.bp.blogspot.com/-kU52dyDdWNY/Ty7SWD5cR4I/AAAAAAAABO8/UZ_uKAXG-V4/s400/spit.png" width="400" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">In the Spit window, create a connection to PostGIS by clicking on 'New'. Fill out the 'Name' (texas), 'Host' (localhost)', 'Database' (texas), 'Username' (postgres), 'Password' (your password). Save your user name and password if desired. Click on 'Test Connect' to test the connection; if&nbsp;successful, click 'OK' to save the connection.</span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-rI-q6bq3yrE/Ty7wqisx7FI/AAAAAAAABPM/XH73jWAX5Uw/s1600/make_connection.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://2.bp.blogspot.com/-rI-q6bq3yrE/Ty7wqisx7FI/AAAAAAAABPM/XH73jWAX5Uw/s400/make_connection.png" width="272" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<br /></div>
<span style="font-family: Verdana, sans-serif;">Now that we have a connection to the data base, click 'Connect' to establish the connection. We will use the default SRID, since all the shape files are in the same projection. Click 'Add' and select the OSM, Census and the reprojected TEA shape files. Click 'OK' to load them into PostGIS. This make take a bit of time, especially for the larger files such as the OSM highways file.</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-xjbin7GXo08/Ty71ji7_3gI/AAAAAAAABPU/d8SHpdWWXx4/s1600/spit_window.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="502" src="http://4.bp.blogspot.com/-xjbin7GXo08/Ty71ji7_3gI/AAAAAAAABPU/d8SHpdWWXx4/s640/spit_window.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;">You can check that the data was imported using PGAdmin III. Press 'F5' to refresh the view and click on the 'texas' database to open the tree view, then click on 'Tables' to view them.</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-QNoXQU3rlUU/Ty74Z6wlbjI/AAAAAAAABPc/QQC-uFo9lmY/s1600/pgadmin_import.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="507" src="http://2.bp.blogspot.com/-QNoXQU3rlUU/Ty74Z6wlbjI/AAAAAAAABPc/QQC-uFo9lmY/s640/pgadmin_import.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Data prep using command line tools</b></span><br />
<span style="font-family: Verdana, sans-serif;">Advocacy for open data has made more data available in the web; but often the data is in an 'as-is' state that requires additional refinements to make it usable. The TEA dropout rate data is no different and it is important to look at the data to determine what the individual columns mean and if they are in a format that is suitable for analysis.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Things to look out for are tocheck that data type is consistent and the data can be accurately and consistently represented as continuous or categorical values. CSV files come in many flavors and when importing the data into any database requires a degree of data sleuthing to ensure the data is imported correctly. There are many tools for examining and modifying data that range from text editors and spreadsheets. My preferred method is to use unix utilities such as sed, awk, and tr because they don't have file size or row limits found in text editors or spreadsheets.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">If you have a preferred method feel free to skip ahead to the loading CSV into Postgres section. This part will describe how to use unix utilities to correct the CSV files and also write SQL scripts to create tables to hold the TEA dropout rate data. One of many pleasant surprises of QGIS for Windows is that it includes MSYS which is a collection of gnu utilities such as sed, awk, &nbsp;tr, and vi. Unlike Cygwin, it is not a full environment that includes the gcc compiler. It has a smaller foot print and provides just what is needed for manipulating data.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">If we look at the header and first line of data in the campus dropout rate CSV file, we see that they each entry is quoted and comma delimited. That's OK for the header, but quoted data means that it will be imported as text into a database. Furthermore, if we look through out the data set, we see that many of the fields contain a mixture of numeric and text data. If you read through the site metadata, it says the some fields are purposely&nbsp;obfuscated&nbsp;to preserve privacy. That's the reason why some of the data contains a less than sign in front of the value. Here are a couple of examples on how to use head and tail to look at various parts of a file.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/1752984.js?file=example1">
</script><span style="font-family: Verdana, sans-serif;">
One of the problems with the files is that null or empty values are represented by ".", this is unacceptable. We'll fix this by removing the values using sed, which is a utility that edit a file as stream instead of opening the entire file at one time. You can find and replace values using substitution. The general form of substitution in sed takes the form of 's/text to replace/new text/g'. The 's' means&nbsp;substitution and the 'g' means global or the perform this on the entire file. In the example below, we will need to escape the quote and period with a backslash because they are special characters. The version of sed in MSYS does not support in place editing, so we will redirect the output using '&gt;' to another file. Finally, we remove the column headers in the file by copying it to a tmp file, then using sed to remove the first line. The file 'campus_dropout_clean.csv' is now ready for importing into Postgres. Repeat the same process for the district file.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/1753211.js?file=example2_gis_on_win">
</script>
<span style="font-family: Verdana, sans-serif;">However, before we can import the data, we will need to define and create the table structure in Postgres using SQL. The <a href="http://www.postgresql.org/docs/9.1/static/sql-createtable.html" target="_blank">CREATE TABLE statement</a> is straightforward and can be done by typing it into psql or the PGAdmin SQL console. I'll be the first to admit that I'm a terrible typist and very prone to error. To overcome my lack of typing skills I use sed to create the SQL.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">I start with the header line of the CSV file because it contains all the column names. I use head to grab the first line and save it to 'campus_header' file. This file has all the column names in a single line, so I use sed to to add a newline and write the output to 'campus_dropout_raw.sql' file. Note that I use an actual carriage return instead of the newline ('
') because of a limitation in sed. Use 'cat' to see the new file.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/1753400.js?file=eample2_gis_win">
</script>
<span style="font-family: Verdana, sans-serif;">To finish up the SQL we'll add the CREATE TABLE statement and the closing parentheses using sed. We want to only operate on the first line of the file so we user '1s' to perform the substitution. Note that the output is redirected to a temporary file because this version of sed lacks in place editing. We take the temp file and add the varchar type definition and closing parentheses using sed again. Note that we want to only operate on the last line of the file so we use '$s'. The output is redirected to the 'campus_dropout_raw.sql' file.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/1753496.js?file=example4_gis_on_win">
</script>
<span style="font-family: Verdana, sans-serif;">Now we have a SQL file to create the table holding the raw TEA campus dropout rates. One of the problems of the file is that all the data is mixed between numeric and text types especially for the fields used to calculate the rate. Fortunately, the dropout rate fields contain the calculated rate as numeric values. We can create a table with the dropout ratio defined as a numeric value instead of a character string. Later on, we will use the raw data to populate the actual dropout rate table.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">In the previous example we wanted to get all the column names, but in this example we want to get just the column names with the different dropout rates. We use tr to add carriage returns after the comma then send it to sed to extract the fields of interest. Luckily, the dropput rates occur in a regular pattern so we use '2~3p' to specify that starting on the second line extract every third line in the file. We then send the ouput to a file called campus_dropout_rate.sql.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">If we look at the output file using cat, we can see it extracted the desired lines plus a few extra at the end. To get a clean file of only the dropout rate fields we extract the first 21 lines and redirect it to a 'tmp' file. To get the count of the lines we want, use wc to get the total number of lines and subtract the lines you don't want. Add the numeric type definitions using sed and redirect the output to the 'first' file.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The remaining nine fields in the campus_header file are useful fields that contain the campus identifier as well as other important information such as school name. We want those fields so we extract them using tr and tail and write the results to a 'tmp' file. As in the previous example, add the varchar type definition using sed and write the output to the 'last' file. We glue the 'first' and 'last' file using the cat command and redirect the output to the campus_dropout_rate.sql file. Finally, we finish by adding the CREATE TABLE statement and closing parentheses was we did in the previous example.</span><br />
<br />
<script src="https://gist.github.com/1753818.js?file=example5_gis_on_win">
</script>
<span style="font-family: Verdana, sans-serif;">In this section, we used command line utilities to clean up files and create SQL scripts to create tables in Postgres. Repeat the process for the district dropout rate data. When we have completed the cleaning and making SQL scripts for the district data, we'll be ready to import the data into Postgres.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Importing CSV files into Postgres</b></span><br />
<span style="font-family: Verdana, sans-serif;">In this section we will use PGAdmin and the SQL editor to load the data. Open PGAdmin III, select the 'texas' database, and click on the 'SQL' button to launch the SQL editor.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-uzkLk7TzM_k/TzAe0gSfGCI/AAAAAAAABPk/Sm1rgkROLuI/s1600/sql_button.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="133" src="http://2.bp.blogspot.com/-uzkLk7TzM_k/TzAe0gSfGCI/AAAAAAAABPk/Sm1rgkROLuI/s400/sql_button.png" width="400" /></a></div>
<span style="font-family: Verdana, sans-serif;">In the SQL query window, click on the 'File'&gt;'Open' to open the campus_dropout_raw.sql file. Load the file, then click on Click on 'Query'&gt;'Execute' to run the script.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-Q0WZzZEfuhQ/TzAg3EkDGOI/AAAAAAAABPs/aVNPP3Ng65A/s1600/sql_create_table.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="395" src="http://3.bp.blogspot.com/-Q0WZzZEfuhQ/TzAg3EkDGOI/AAAAAAAABPs/aVNPP3Ng65A/s640/sql_create_table.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;">Repeat the same process for the campus_dropout_rate.sql, district_dropout_raw.sql, district_dropout_rate.sql files. You should have four new tables listed when you are finished.</span><br />
<br />
<span style="font-family: Verdana, sans-serif;">The final step is to import the raw data and insert the cleaned data in to the campus and district rate tables.&nbsp;</span><span style="font-family: Verdana, sans-serif;">Postgres provides the COPY command to import text files into tables. You can use the SQL window to write and execute SQL. Clear the the window by clicking on 'Edit'&gt;'Clear window' and type the following and substituting the appropriate path.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/1754088.js?file=example6_gis_on_win">
</script>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-L3q0COhzzA4/TzBAvlCqJ_I/AAAAAAAABQE/fpA2zaE4RSo/s1600/sql_copy.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="388" src="http://4.bp.blogspot.com/-L3q0COhzzA4/TzBAvlCqJ_I/AAAAAAAABQE/fpA2zaE4RSo/s640/sql_copy.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;">The next step is to populate the campus_dropout_rate table from the table containing the raw data. To do this, we use and INSERT statement to copy the data and convert the data to a numeric type. Using the same techniques in the previous example, I created this script.</span><br />
<br />
<script src="https://gist.github.com/1754351.js?file=example7_gis_on_win">
</script>
<span style="font-family: Verdana, sans-serif;">Copy and past the script into the SQL window and run the script.</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-oWxiOZZS2eA/TzA4WrlJ7HI/AAAAAAAABP8/NUrDJyolThQ/s1600/sql_insert.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="http://1.bp.blogspot.com/-oWxiOZZS2eA/TzA4WrlJ7HI/AAAAAAAABP8/NUrDJyolThQ/s640/sql_insert.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;">Repeat the same process for the district data.&nbsp;</span><span style="font-family: Verdana, sans-serif;">That's it for loading the tabular TEA data on campus and district dropout rates. Later on, we will join the tables to the school and district PostGIS layers for analysis.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Summary</b></span><br />
<span style="font-family: Verdana, sans-serif;">We've done a lot - installed software, created a database, reprojected and loaded shape files in PostGIS using QGIS, used command line tools to clean up CSV files and create SQL scripts, and finally created tables and loaded data in Postgres. While some of this may seem complicated (especially the command line portion), this is the type of work flow I would use if someone asked me to make a map of data pulled from the Internet. It's the kind of workflow that I used as a GIS analyst in a previous life to overcome the shortcomings of spreadsheets and text editors as data cleaning tools. Overall, I'm impressed that I can do all of this in Windows with just QGIS and Postgres.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The following article will cover spatial analysis in QGIS and Postgres. We'll look at QGIS plug-ins and exercise the spatial functions in PostGIS.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br />
</span></div>
<div class="separator" style="clear: both; text-align: center;">
<br /></div>
]]>
		</document>
		<document id="546f861b82ef3b0a7d5b2d60ee82c752" url="http://sproke.blogspot.com/2012/03/this-is-important.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Listen up, this is important. If you've seen my WhereCampDC video "WMS is Dead", then you will know that what is commonly called web mapping is what I consider a chart or a static graphic plotting information along any arbitrary xy axis. In my view, this means projections aren't important so we might as well get on with our lives and use web mercator.</span><br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">But what if we could have real interactive cartography, so that for any location at any scale we could view it using a carefully curated set of projections to preserve area and shape? I have a secret. Somewhere in my black heart is a tiny undernourished cartographic flame starved by nearly two decades of shite web mapping. This is the part where that flame goes, "Wooosh!"&nbsp;</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Two projects in my twitter feed showed up. The first is <a href="http://cartography.oregonstate.edu/scaleadaptivewebmaps.html" target="_blank">Scale Adaptive Web Maps</a>, which<a href="http://cartography.oregonstate.edu/demos/ScaleAdaptiveProjection/ScaleAdaptiveProjection.html" target="_blank"> changes the projection based on scale</a>. It's pretty cool to watch the projections change while zooming, and hey there's the projection you can use to display OCONUS. Alaska and Hawaii thank you.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://cartography.oregonstate.edu/demos/ScaleAdaptiveProjection/ScaleAdaptiveProjection.html" target="_blank"><img border="0" height="398" src="http://3.bp.blogspot.com/-Spltb9GgtGQ/T1e0m4kmP3I/AAAAAAAABUw/HihZzrKj8zs/s640/Screen+Shot+2012-03-07+at+1.18.04+PM.png" width="640" /></a></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">The second project is kartograph.js which posits a convincing argument for yet another <a href="http://vis4.net/blog/posts/introducing-kartograh/" target="_blank">mapping framework</a>. I think the work speaks for itself.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<iframe frameborder="0" height="900" src="http://kartograph.org/showcase/italia/" width="600">&amp;lt;p&amp;gt;&amp;amp;amp;amp;amp;lt;p&amp;amp;amp;amp;amp;gt;&amp;amp;amp;amp;amp;amp;amp;lt;p&amp;amp;amp;amp;amp;amp;amp;gt;Your browser does not support iframes.&amp;amp;amp;amp;amp;amp;amp;lt;/p&amp;amp;amp;amp;amp;amp;amp;gt;
&amp;amp;amp;amp;amp;lt;/p&amp;amp;amp;amp;amp;gt;&amp;lt;/p&amp;gt;</iframe>

<br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">However, the question that remains is "Does it scale?" At O'Reilly's StrataConf last week, Mano Marks and Chris Broadfoot <a href="http://mano-demos.googlecode.com/svn/trunk/slides/strata2012/index.html#1" target="_blank">presented work</a> showing WebGL rendering features with 6 million vertices in the browser. When asked for a public demo, Mano said that it wasn't quite ready for release. Despite that, I'm optimistic that this may be a new way forward for interactive digital cartography.</span></div>
]]>
		</document>
		<document id="6a26a9f07225f494de8f3caf8d7ab036" url="http://sproke.blogspot.com/2012/04/foss4g-na-demographic-analysis-using.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">My FOSS4G-NA talk expands on an <a href="http://sproke.blogspot.com/2012/01/importing-2010-sf1-census-in-postgresql.html" target="_blank">earlier blog post</a> on loading S1 data into PostgreSQL by looking at how to create a population pyramid and how to compare population change between the 2000 and 2010 census. The scripts I used for this presentation are <a href="https://github.com/spara/foss4gna2012" target="_blank">available on github</a>.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Database Preparation</b></span><br />
<span style="font-family: Verdana, sans-serif;"><b><br /></b></span><br />
<span style="font-family: Verdana, sans-serif;">I've updated the original scripts to correct a few errors with regards to character set and data types. We will load the SF1 files for 2000 and 2010, the Census Tract Relationship files and the census tracts of interest from TIGER.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The following scripts create the 2010 and 2000 SF1 tables in a postgresql database:</span><br />
<ul>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_SF1_2000_tables.sql">create_SF1_2000_tables.sql</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_geo_header_2000_table.sql">create_geo_header_2000_table.sql</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_SF1_2010_tables.sql">create_SF1_2010_tables.sql</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_geo_header_2010_table.sql">create_geo_header_2010_table.sql</a></span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">Loading data into the tables is covered in a <a href="http://sproke.blogspot.com/2012/01/importing-2010-sf1-census-in-postgresql.html">previous post</a>.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Census geography changes between each decennial census. The Census Bureau provides </span><a href="http://www.census.gov/geo/www/2010census/tract_rel/tract_rel.html" style="font-family: Verdana, sans-serif;">Census Tract Relationship files</a><span style="font-family: Verdana, sans-serif;"> that describe these changes. The following sql scripts create the files as tables.</span></div>
<ul>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_tract_relationship_tables.sql">create_tract_relationship_tables.sql</a></span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_changed_tracts_table.sql">create_changed_tracts_table.sql</a></span></li>
</ul>
<span style="font-family: Verdana, sans-serif;">The data can be <a href="http://www.census.gov/geo/www/2010census/tract_rel/tract_rel_download.html">downloaded from Census</a>&nbsp;and loaded into the tables using the postgres copy command as in the previous example.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>The Relationship Between SF1 and TIGER</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Summary File 1 (SF1)</span><br />
<blockquote class="tr_bq">
<span style="font-family: Verdana, sans-serif;">"...contains the data compiled from the questions asked of all people
and about every housing unit. Population items include sex, age, race, Hispanic
or Latino origin, household relationship, household type, household size,
family type, family size, and group quarters. Housing items include occupancy
status, vacancy status, and tenure (whether a housing unit is owner-occupied or
renter-occupied)."</span><span style="font-family: Calibri;">&nbsp;</span></blockquote>
<span style="font-family: Verdana, sans-serif;">SF1 data for either the 2000 or 2010 census includes 40 plus files (for either decennial census) and thousands of columns cryptically named. In order to understand which file contains variables of interest you will need <a href="http://2010.census.gov/news/doc/sf1_table_matrix_section.doc" target="_blank">SF1 Table Matrix</a>. In addition, to understand how to query for the level of geography (blockgroup, tract, county, etc) you will need <a href="http://2010.census.gov/news/pdf/sf1_sequence_chart.pdf" target="_blank">Summary Level Sequence chart</a>.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">There a number of ways to retrieve the logrecno for a given census geography. The first example shows how to retrieve the logrecno from a set of TIGER census tracts loaded into PostGIS. The census tract table is called tract_d3.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/2492873.js?file=get_logrecno_from_geographic_table.sql">
</script>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">You can also get the logrecno from a list of census tracts. This example retrieves the logrecno number from the 2000 census tracts.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<script src="https://gist.github.com/2492958.js?file=get_logrecno_from_list_of_census_tracts.sql">
</script>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">This query can be incorporated as subquery for other queries such as building a population pyramid.
</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Building a population pyramid</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The following query builds a population pyramid for females for a group of 2010 census tracts. The table sf1_00017 contains the counts for each age, the query sums the counts in five year increments which is how population pyramids are typically constructed. The subquery selects tracts based on logrecno.</span><br />
<br />
<script src="https://gist.github.com/2500334.js?file=create_female_pop_pyramid.sql">
</script><span style="font-family: Verdana, sans-serif;">

A script retrieve the data for the male portion of the population pyramid is also <a href="https://github.com/spara/foss4gna2012/blob/master/sql/create_male_pop_pyramid.sql">available</a>.
</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">There are a number of sources for building an online population pyramid. Most of the are based on the d3 javascript visualization library. Here are several:</span>
<br />
<ul>
<li><a href="https://github.com/mbostock/d3" style="font-family: Verdana, sans-serif;">d3 javascript visualization library</a><span style="font-family: Verdana, sans-serif;">
</span></li>
<li><a href="http://vis.stanford.edu/jheer/d3/pyramid/shift.html" style="font-family: Verdana, sans-serif;">U.S. Census Population Pyramid, 1850-2000</a><span style="font-family: Verdana, sans-serif;">
</span></li>
<li><span style="font-family: Verdana, sans-serif;"><a href="http://www.americanscientist.org/sp/pyramid/">Interactive population pyramid of world population</a></span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">If you use OSX, the <a href="http://www.theperiheliongroup.com/">Population Pyramid Generator</a> by the Perihelion Group can quickly generate a standard population pyramid.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-vuxuJ6stMO0/T5ltbuK_GqI/AAAAAAAABg0/e2ceXyoYPdE/s1600/poppyramid.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="608" src="http://4.bp.blogspot.com/-vuxuJ6stMO0/T5ltbuK_GqI/AAAAAAAABg0/e2ceXyoYPdE/s640/poppyramid.png" width="640" /></a></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><b>Demographic Change</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Measuring change between decennial census is a typical demographic task. Comparison require standardizing changes to geographic boundaries over time. There are four types of change:</span><br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">no change, geographic boundaries remain the same</span></li>
<li><span style="font-family: Verdana, sans-serif;">revision - a small change that does not affect a larger portion of the population</span></li>
<li><span style="font-family: Verdana, sans-serif;">merge - previous geographic boundaries are joined to form the current boundaries</span></li>
<li><span style="font-family: Verdana, sans-serif;">split - current boundaries are created by splitting the previous boundaries</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">These 2010 census tracts belong to a city council district in San Antonio, Texas. This example exhibits all four types of change</span><span style="font-family: Verdana, sans-serif;">:</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-14819fuHv24/T5mACfKDUxI/AAAAAAAABhA/NsB2fImInNU/s1600/tract_comparison.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="480" src="http://1.bp.blogspot.com/-14819fuHv24/T5mACfKDUxI/AAAAAAAABhA/NsB2fImInNU/s640/tract_comparison.png" width="640" /></a></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
</div>
<div>
<br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">The light blue/whitish lines are the 2010 tract boundaries that haven't changed from the previous census.&nbsp;</span></li>
<li><span style="font-family: Verdana, sans-serif;">The red lines represent the 2000 tract boundaries. The tracts with the red line between them is a merger of the 2000 tracts that form a 2010 tract outlined in a light blue.</span></li>
<li><span style="font-family: Verdana, sans-serif;">The cyan lines represent new 2010 tracts that are the result of splitting 2000 boundaries. This is noticeable at the bottom most tract which shows the cyan line from a split and the old 2000 boundary in red.</span></li>
<li><span style="font-family: Verdana, sans-serif;">The scale of the image hides a revision in one of the tracts.</span></li>
</ul>
<br />
<span style="font-family: Verdana, sans-serif;">There are several standardization methods for each type of change:</span><br />
<br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">merge - locate merges using the first 4 digits of the tract, manually edit the tract, or spatial joins by polygon or centroid</span></li>
<li><span style="font-family: Verdana, sans-serif;">split - area allocation and union (assumes that population is equally distributed)</span></li>
<li><span style="font-family: Verdana, sans-serif;">use the Census Relationship files which tracks the changes in census geography</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;"><b>Methodology</b></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Using the Census Relationship files, the methodology is:</span></div>
<div>
<ul>
<li><span style="font-family: Verdana, sans-serif;">query for tracts without change</span></li>
<li><span style="font-family: Verdana, sans-serif;">query for tracts that split</span></li>
<li><span style="font-family: Verdana, sans-serif;">query for tracts that have merged</span></li>
<li><span style="font-family: Verdana, sans-serif;">combine the results to a base geography</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">The following query is for the total population of 2000 census tracts with the no change; the list of tracts were selected by matching census tract numbers in QGIS.</span></div>
</div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<script src="https://gist.github.com/2501867.js?file=get_2000_population_from_unchanged_tracts.sql">
</script>
</div>
<div>
<span style="font-family: Verdana, sans-serif;">A similar script for 2010 census tracts without change is <a href="https://github.com/spara/foss4gna2012/blob/master/sql/get_2010_population_from_unchanged_tracts.sql">available</a>. The Census Relationship files contain the splits that&nbsp;occurred&nbsp;between each census. &nbsp;The following query retrieves the 2000 tracts, 2010 tracts, and the 2010 population from the relationship files.</span><br />
<br />
<span style="font-family: Verdana, sans-serif;">
<script src="https://gist.github.com/2502163.js?file=get_population_from_split_tracts.sql">
</script></span>
</div>
<div>
<span style="font-family: Verdana, sans-serif;">Since there was only one 2010 tract that was merged, it was possible to retrieve the values with a direct query to the table. All the results were merged into a csv file with both the 2000 and 2010 tract numbers and joined to the 2000 tract boundaries using QGIS. Below are the population changes using the 2000 census boundaries.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-QIZlA5aQ6MU/T5mkWTG1OKI/AAAAAAAABhM/4YlKjiwW45o/s1600/2000_pop.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="480" src="http://3.bp.blogspot.com/-QIZlA5aQ6MU/T5mkWTG1OKI/AAAAAAAABhM/4YlKjiwW45o/s640/2000_pop.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><span style="font-family: Verdana, sans-serif; font-size: small;">2000 Population by 2000 tract boundaries</span></td></tr>
</tbody></table>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-lso6MVdseeY/T5mkYdYxFjI/AAAAAAAABhU/3I3jP1_tnAU/s1600/2010_pop.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="480" src="http://2.bp.blogspot.com/-lso6MVdseeY/T5mkYdYxFjI/AAAAAAAABhU/3I3jP1_tnAU/s640/2010_pop.png" width="640" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><span style="font-family: Verdana, sans-serif; font-size: small;">2010 population by 2000 tract boundaries</span></td></tr>
</tbody></table>
<span style="font-family: Verdana, sans-serif;">The dark blue tracts indicates the most populous areas in a quantile classification and white tracts represent the least populous. The maps show an overall increase in population in the selected tracts. There are some increases in the smaller tracts indicating increasing density in those areas.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Summary</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">I've covered some basic techniques for retrieving data for demographic analysis. The sql scripts provide basic building blocks for typical demographic processes such as calculating fertility, mortality, and migration. PostgreSQL and QGIS were used in combination to perform these queries and display the results.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<br />
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
]]>
		</document>
		<document id="f7db416f2bfaf371aee1eaa4573381be" url="http://sproke.blogspot.com/2012/04/whereconf-2012-dead-pool-and-also-rans.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">My talk at Whereconf 2012 was originally about companies in the location business that failed or were acquired for less than the money they raised. My source of information was CrunchBase, an online database of companies, people and investors that is freely editable. Since it is crowd sourced, the quality of the data can vary and for the most part, the dead pool or acquisition information was not sufficient for analysis. I decided to look at acquisitions and IPOs to see how the location industry was doing.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Methodology</b></span><br />
<span style="font-family: Verdana, sans-serif;"><b><br /></b></span><br />
<span style="font-family: Verdana, sans-serif;">My first task was to gather a list of location oriented companies. CrunchBase tags companies with terms such as location or geo or gps. Although I could have used these tags to create a pool of location oriented companies, the tags had a lot of variation to determine if it was a location company. I decided to use a different method. Each company entry in CrunchBase includes a list of competitors; I wrote a depth first search program to gather a list of companies. I used a set of well known companies such as FourSquare, SkyHook, Loopt, and SimpleGeo to generate a seed list of companies. As expected, this process generated a list with many duplicates; so with a bit of experimentation, I determined that three iterations generated a sufficient amount companies with the duplicates removed. I then ran my seed list through the depth first search program which yielded 1945 unique companies. A number of those company entries lacked basic information such as founding date or money raised; I eliminated them and reduced the list to 1505 companies with sufficient data for analysis.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Initially, I attempted to segment the companies into groups based on descriptive tags using hierarchical clustering, but the tags were too unique to provide a meaningful cluster. Fortunately, companies can be assigned to a category in CrunchBase and this is a handy way to segment the data set. The pie chart below shows the different categories.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-om0kteOYXq4/T33P7-ANUJI/AAAAAAAABcQ/tuZiJoTHoSo/s1600/Slide04.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://1.bp.blogspot.com/-om0kteOYXq4/T33P7-ANUJI/AAAAAAAABcQ/tuZiJoTHoSo/s1600/Slide04.jpg" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;"><span style="font-family: Verdana, sans-serif;"><br />Location companies by CrunchBase category</span></td></tr>
</tbody></table>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Refining the location business segments</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">I wanted to further narrow the data set by focusing on companies that comprised the majority of the location industry. I then ran a hierarchical cluster again using category. The result was five clusters represented by six categories.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-f198gBK-A0M/T33STEo0jqI/AAAAAAAABcY/KGNodRVGC14/s1600/Screen+Shot+2012-03-31+at+12.23.37+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-f198gBK-A0M/T33STEo0jqI/AAAAAAAABcY/KGNodRVGC14/s1600/Screen+Shot+2012-03-31+at+12.23.37+PM.png" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The higher a category or term occurs in the plot, the more frequently it appears in the data set. Terms that are closer to each other are more related; the plot shows that the categories are quite discreet.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">A look at the raw counts and percentages show that roughly 20% of companies are acquired and 5% reach an initial public offering.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><b>Raw counts</b></span></div>
<br />
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 648px;">
 <tbody>
<tr style="height: 29.2pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Category</span></div>
</td>
  <td style="background: #9BBB59; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: none; border-top: solid #9BBB59 1.0pt; height: 29.2pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Total</span></div>
</td>
  <td style="background: #9BBB59; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: none; border-top: solid #9BBB59 1.0pt; height: 29.2pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Acquired</span></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">IPO</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">advertising</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">110</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">29</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">5</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">ecommerce</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">114</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">18</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">8</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">games_video</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">221</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">46</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">8</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">mobile</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">182</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">34</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">6</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">software</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">185</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">36</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">10</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 6; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">web</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">693</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">136</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 2.25in;" valign="bottom" width="162"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">13</span></div>
</td>
 </tr>
</tbody></table>
<br />
<br />
<div style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><b>Percentages</b></span></div>
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 546px;">
 <tbody>
<tr style="height: 39.35pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Category</span></div>
</td>
  <td style="background: #9BBB59; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: none; border-top: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Acquired</span></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">IPO</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">advertising</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">26%</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">5%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">ecommerce</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">16%</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">7%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="SpellE" style="font-family: Verdana, sans-serif;"><span class="GramE">games</span>_video</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">21%</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">mobile</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">19%</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">3%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">software</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">19%</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">5%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 6; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">web</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">20%</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">2%</span></div>
</td>
 </tr>
</tbody></table>
<br />
<br />
<span style="font-family: Verdana, sans-serif;">A closer look at the companies that had an IPO revealed several companies in some of the categories that were clearly not location companies (these included major mobile carriers such as Verizon). These were removed and counts were adjusted.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><b>Adjusted counts and percentages</b></span></div>
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 546px;">
 <tbody>
<tr style="height: 39.35pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Category</span></div>
</td>
  <td style="background: #9BBB59; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: none; border-top: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Raw</span></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 39.35pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">Percentage</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">advertising</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">5</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">5%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">ecommerce</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="SpellE" style="font-family: Verdana, sans-serif;"><span class="GramE">games</span>_video</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">8</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">mobile</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">0</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">0%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">software</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">7</span></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4%</span></div>
</td>
 </tr>
<tr style="height: 33.9pt; mso-yfti-irow: 6; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span class="GramE" style="font-family: Verdana, sans-serif;">web</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">4</span></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 33.9pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 182.0pt;" valign="bottom" width="182"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">1%</span></div>
</td>
 </tr>
</tbody></table>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><br /><b>Who's acquiring companies</b>&nbsp;</span><br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">I created a word cloud to show which companies are acquiring business in this location space. Companies such as Google, Microsoft and Yahoo are doing most of acquisition, but a lot of companies with "Media" as part of their name stands out.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-ituwHMl1VKU/T33eVSGWA1I/AAAAAAAABcg/KpEMYfadSRM/s1600/Screen+Shot+2012-04-02+at+3.17.24+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="314" src="http://3.bp.blogspot.com/-ituwHMl1VKU/T33eVSGWA1I/AAAAAAAABcg/KpEMYfadSRM/s640/Screen+Shot+2012-04-02+at+3.17.24+PM.png" width="640" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;">CrunchBase includes a field for the media source announcing acquisitions. Google, Social Media, and Video are prominent terms.</span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-V5g2fF3U6VA/T33fMtHEaRI/AAAAAAAABco/Ff7_QO_HCFo/s1600/Screen+Shot+2012-04-02+at+3.29.40+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="364" src="http://2.bp.blogspot.com/-V5g2fF3U6VA/T33fMtHEaRI/AAAAAAAABco/Ff7_QO_HCFo/s640/Screen+Shot+2012-04-02+at+3.29.40+PM.png" width="640" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><b><br /></b></span></div>
<div class="separator" style="clear: both; text-align: left;">
<span style="font-family: Verdana, sans-serif;"><b>How much money did these companies raise prior to acquisition?</b></span></div>
<div>
</div>
<div>
<span style="font-family: Verdana, sans-serif;">For the top three categories (web, games, and mobile), I generated descriptive statistics for the amount of money they raised. Note that I removed all companies that do not have data for money raised.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<div style="text-align: center;">
<b style="font-family: Verdana, sans-serif;">Amount of money raised by web companies</b><span style="font-family: Verdana, sans-serif;">&nbsp;</span></div>
</div>
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 648px;">
 <tbody>
<tr style="height: 25.8pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 25.8pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 25.8pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Count</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">300</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mean</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$31,183,226</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Median</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$5,900,000</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mode</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$1,000,000</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Minimum</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$15,000</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 6;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Maximum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$1,160,166,511</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 7;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Range</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$1,160,151,511</span></div>
</td>
 </tr>
<tr style="height: 26.3pt; mso-yfti-irow: 8; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Sum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 26.3pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$9,354,967,849</span></div>
</td>
 </tr>
</tbody></table>
<br />
<div>
<span style="font-family: Verdana, sans-serif;">The results are impressive with over $9 billion raised, however the results are skewed because they include&nbsp;FaceBook, Twitter, Groupon, and&nbsp;AOL which all had large multiple rounds. The important statistic to look at is the mode, which indicates what most companies raised.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><b>Amount of money raised by game/video companies</b></span></div>
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 648px;">
 <tbody>
<tr style="height: 29.2pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Count</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">99</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mean</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$21,756,267</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Median</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$11,015,719</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mode</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$5,000,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Minimum</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$15,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 6;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Maximum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$183,240,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 7;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Range</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$183,225,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 8; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Sum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$2,153,870,470</span></div>
</td>
 </tr>
</tbody></table>
<br />
<div>
<span style="font-family: Verdana, sans-serif;">The mode is quite a bit larger, $5 million, in comparison to companies in the web category. This is most likely due to web companies having long tails on both ends of the distribution.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: center;">
<span style="font-family: Verdana, sans-serif;"><b>Amount of money raised by mobile companies</b></span></div>
<table border="0" cellpadding="0" cellspacing="0" class="MsoNormalTable" style="border-collapse: collapse; width: 648px;">
 <tbody>
<tr style="height: 29.2pt; mso-yfti-firstrow: yes; mso-yfti-irow: 0;">
  <td style="background: #9BBB59; border-right: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
  <td style="background: #9BBB59; border-left: none; border: solid #9BBB59 1.0pt; height: 29.2pt; padding: .05in .1in .05in .1in; width: 4.5in;" valign="top" width="324"><div class="MsoNormal">
<br /></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 1;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Count</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">92</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 2;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mean</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$22,577,161</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 3;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Median</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$11,075,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 4;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Mode</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$4,000,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 5;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Minimum</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$11,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 6;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Maximum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$168,000,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 7;">
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Range</span></i></div>
</td>
  <td style="background: #EFF3EA; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$167,989,000</span></div>
</td>
 </tr>
<tr style="height: 29.2pt; mso-yfti-irow: 8; mso-yfti-lastrow: yes;">
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: solid #9BBB59 1.0pt; border-right: none; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<i><span style="font-family: Verdana, sans-serif;">Sum</span></i></div>
</td>
  <td style="background: white; border-bottom: solid #9BBB59 1.0pt; border-left: none; border-right: solid #9BBB59 1.0pt; border-top: none; height: 29.2pt; mso-border-top-alt: solid #9BBB59 1.0pt; padding: 1.0pt 1.0pt 0in 1.0pt; width: 4.5in;" valign="bottom" width="324"><div class="MsoNormal" style="text-align: center;">
<span style="font-family: Verdana, sans-serif;">$2,077,098,772</span></div>
</td>
 </tr>
</tbody></table>
<br />
<span style="font-family: Verdana, sans-serif;">Of note, the mode is similar to companies in the game/video category.</span><br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><b>Closing thoughts&nbsp;</b></span><br />
<span style="font-family: Verdana, sans-serif;"><b><br /></b></span><br />
<span style="font-family: Verdana, sans-serif;">CrunchBase is essentially a wiki, with all the strengths and weaknesses of crowd sourced data. It is a good place to begin exploring the performance of technology businesses, especially location based startups. While there are databases for established companies there are few openly available resources on startups.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Using DFS on business competitors is a good way to generate a list of businesses and startups in the location space, but an extra step to filter out businesses adjacent but not in the location space is needed. Whether this can be done with clever text mining of tags or other ancillary data remains to be scene. The approach of using the predetermined categories to segment the pool of location businesses is a reasonable approach and allows for cross comparison across other business verticals.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Basic descriptive statistics have been provided but conclusions can't be drawn on the basis of data presented. However this provides a first approximation of a sketch of the location based startups and businesses.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Data availability</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Data and the scripts used to generate the data and analyses are available at:&nbsp;</span><a href="https://github.com/spara/whereconf2012"><span style="font-family: Verdana, sans-serif;">https://</span>github<span style="font-family: Verdana, sans-serif;">.com/</span>spara<span style="font-family: Verdana, sans-serif;">/</span>whereconf2012</a><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><b>Acknowledgments</b></span><br />
<br />
<ol>
<li><span style="font-family: Verdana, sans-serif;">Word clouds generated at&nbsp;<a href="http://www.wordle.net/">http://www.wordle.net/</a></span></li>
<li><span style="font-family: Verdana, sans-serif;">crunchbase gem was forked from&nbsp;<a href="https://github.com/tylercunnion/crunchbase">https://github.com/tylercunnion/crunchbase</a></span></li>
<li><span style="font-family: Verdana, sans-serif;">R data loading script from&nbsp;<a href="http://www.cloudstat.org/index.php?do=/kaichew/blog/crunchbase-api-scrapping-companies-info-from-crunchbase-with-r-packages/">http://www.cloudstat.org/index.php?do=/kaichew/blog/crunchbase-api-scrapping-companies-info-from-crunchbase-with-r-packages/</a></span></li>
<li><span style="font-family: Verdana, sans-serif;">R&nbsp;hierarchical&nbsp;clustering script from&nbsp;<a href="http://heuristically.wordpress.com/2011/04/08/text-data-mining-twitter-r/">http://heuristically.wordpress.com/2011/04/08/text-data-mining-twitter-r/</a></span></li>
</ol>
</div>
<div>
<span style="font-family: Verdana, sans-serif;"><b><br /></b></span><br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<div>
<br /></div>
</div>
</div>
]]>
		</document>
		<document id="e99c8cfd38a0d7da06043405e81d8dd8" url="http://sproke.blogspot.com/2012/05/are2012-keynote-serendipity.html"><![CDATA[<iframe allowfullscreen="true" frameborder="0" height="389" mozallowfullscreen="true" src="https://docs.google.com/presentation/embed?id=1DV3WCfrnNuBozDbXSQYt7lHiZim8vnBoQFKUejaowsA&amp;start=true&amp;loop=true&amp;delayms=15000" webkitallowfullscreen="true" width="480"></iframe>
<br />
<br />
<span style="font-family: Verdana, sans-serif;">Slide 1:

</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Serendipity is another way to say good luck. It's a concept and belief that something fortuitous occurs from a confluence of factors</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Slide 2:</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Waldo Tobler's First Law of Geography states that things near you have more influence that things farther away. This idea has been applied in a number of situations.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Hecht,&nbsp;</span><span style="font-family: Verdana, sans-serif;">Brent and Emily Moxley. "<a href="http://www.blogger.com/goog_1723472758">Terabytes of Tobler: Evaluating the First Law in a</a></span></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;"><a href="http://www.blogger.com/goog_1723472758">Massive, Domain-Neutral Representation of World</a>&nbsp;</span><span style="font-family: Verdana, sans-serif;"><a href="http://www.brenthecht.com/papers/bhecht_cosit2009_tolberslaw.pdf">Knowledge</a>"&nbsp;</span><span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><i>COSIT'09 Proceedings of the 9th international conference on Spatial information theory</i>, 2009, &nbsp;pp&nbsp;</span><span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">88-105.</span></span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; font-size: x-small; text-align: left;"><br /></span><br />
<span style="font-size: x-small;"><span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"></span>
<span style="font-family: Verdana, sans-serif;">Sui, D.&nbsp;<a href="http://www.blogger.com/goog_1723472753">"Tobler’s First Law of Geography:</a>&nbsp;</span><a href="http://www.geographdy.com/blog/wp-content/uploads/2009/09/sui_2004.pdf" style="font-family: Verdana, sans-serif;">A Big Idea for a Small World?"</a><span style="font-family: Verdana, sans-serif;">&nbsp;</span><i style="font-family: Verdana, sans-serif;">Annals of the Association of American Geographers</i><span style="font-family: Verdana, sans-serif;">, 94(2), 2004, pp. 269–277.</span></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;"><br /></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;"></span>
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;">Tobler, W. , "<a href="http://urizen-geography.nsm.du.edu/~psutton/AAA_Sutton_WebPage/Sutton/Courses/Geog_4020_Geographic_Research_Methodology/SeminalGeographyPapers/TOBLER.pdf">On the First Law of Geography: A Reply</a>," <i>Annals of the Association of&nbsp;American Geographers</i>, 94, 2004, pp. 304-310.</span></span><br />
<br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">Slide 3:</span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">Will Wright recently gave a talk at O'Reilly's Whereconf titled "Gaming Reality." One of his points was related to Tobler's First Law of Geography, things that are closest are most likely to be of interest.&nbsp;</span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<h2 class="singleh2" style="border-bottom-width: 0px; border-color: initial; border-image: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; font-weight: normal; margin-bottom: 5px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 5px;">



<span style="border-width: 0px; color: black; font-family: Verdana, sans-serif; font-size: x-small; margin: 0px; padding: 0px; text-decoration: none;">Shute, T. Ugotrade.&nbsp;<a href="http://www.ugotrade.com/2012/04/25/where-2012-will-wright-gaming-reality/">Will Wright, “Gaming Reality,” Where 2012</a></span></h2>
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">Slide 4:</span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">Proximity can be measured along many different dimensions: spatial, temporal, social network, and conceptual.</span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;">Slide 5:</span><br />
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span><br />
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;">Developers are building mobile applications based on these ideas. For example, GeoLoqi implements geofencing to notify users of events when inside a defined area. Forecast is another application which broadcasts when and where you will be to your friends, increasing the likelihood that you will meet. Other applications can notify of events and sales that occur as you pass through an area.</span><br />
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;">Brownlee, J.&nbsp;<a href="http://www.cultofmac.com/157641/this-creepy-app-isnt-just-stalking-women-without-their-knowledge-its-a-wake-up-call-about-facebook-privacy/" target="_blank">This Creepy App Isn’t Just Stalking Women Without Their Knowledge, It’s A Wake-Up Call About Facebook Privacy</a><span style="color: #363636; line-height: 34px; text-align: -webkit-auto;">. <i>Cult of Mac</i>, March 30, 2012.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Huffington, A.&nbsp;</span><a href="http://www.huffingtonpost.com/arianna-huffington/gps-for-the-soul_b_1427290.html" style="background-color: white; font-family: Verdana, sans-serif; line-height: 36px;">GPS for the Soul: A Killer App for Better Living</a><span style="background-color: white; color: #111111; font-family: Verdana, sans-serif; line-height: 36px;">. <i>Huffington Post</i>,&nbsp;</span><span style="background-color: white; font-family: Verdana, sans-serif; line-height: 16px;">04/16/2012.</span></span></div>
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><br /></span></div>
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;">Slide 6:</span></div>
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><br /></span></div>
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;">Social media, such as Twitter, have been analyzed to determine states of emotion and mapped by Dan Zarella. This just one example of how data can be used to find a person's proximity to an emotion based on location and time.</span><br />
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><br /></span><br />
<span style="font-size: x-small;"><span style="background-color: white;"><span style="font-family: Verdana, sans-serif;">Zarrella, D.&nbsp;</span></span><span style="background-color: white; font-family: Verdana, sans-serif; line-height: 1.286em; text-align: -webkit-auto;"><a href="http://danzarrella.com/using-twitter-data-to-map-emotions-geographically.html">Using Twitter Data to Map Emotions Geographically</a>. <i>The Social Media Scientist</i>,&nbsp;</span><span style="background-color: white; font-family: Verdana, sans-serif; line-height: 25px; text-align: -webkit-auto;">May 7th 2012</span></span><br />
<span style="background-color: white; font-family: Arial;"><br /></span><br />
<span style="background-color: white; font-family: Arial;">Slide 7:</span><br />
<span style="background-color: white; font-family: Arial;"><br /></span><br />
<span style="background-color: white; font-family: Arial;">Connections between people in the form of social networks or social graphs provides a rich source of data for measuring conceptual phenomena. For example, Klout declares that it is a measure of influence, LinkedIn can be a measure of a person's professional sphere, Twitter can &nbsp;while Pintrest can reflect the material culture of a person or a group.</span><br />
<br />
<h1 style="background-color: white; line-height: 30px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px;">

<span style="font-family: Verdana, sans-serif; font-size: x-small; font-weight: normal;">Stevenson, S. <a href="http://www.wired.com/epicenter/2012/04/ff_klout/all/1">What Your Klout Score Really Means</a>. <i>Wired</i>,&nbsp;<span style="color: #333333;">April 24, 2012</span></span></h1>
<br />
<span style="background-color: white; font-family: Arial;">Slide 8:</span><br />
<span style="background-color: white; font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Will Wright postulated that there are at least 50 different dimensions where proximity creates a value gradient. The closer to a person, the greater the value along the value gradient. These gradients can be emotions, communities of interest, school affiliations, or any number of factors that can influence a person's behavior and choices. By bringing all these dimensions to bear on a person, it could be possible to build game dynamics that take advantage of physical world behaviors.</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Slide 9:</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Measurement of the value gradient is the first step in engineering serendipity. There are a number of ways of quantifying the value gradient, but proximity is often modeled on a network structure. Nodes in the network represent people and possible dimensions of interest and the connections (or links) between nodes can measure the gradient.</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Slide 10:</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Will Wright suggested that Central Place Theory as one model of understand the effects of proximity. It is a classic geographic model proposed by Walter Christaller for explaining the hierarchy of places. When applied to influencing serendipity, the concepts of threshold and range are key to using the model to measure the influence of proximity. Threshold is the minimum interaction of a dimension needed to influence a person, whereas range is the maximum distance a person will 'travel' to acquire something.</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;">Dempsey, C.&nbsp;<span style="background-color: white; text-align: justify;"><a href="http://gislounge.com/distance-decay-and-its-use-in-gis/">Distance Decay and Its Use in GIS</a>. <i>GIS Lounge</i>,&nbsp;</span><span style="background-color: white; line-height: 19px; text-align: justify;">3/15/12.</span></span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">Slide 11:</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Arial;">There are a number of ways to measure the effects and or the importance of links. Google's page rank algorithm is perhaps the most famous. Page rank indicates the importance of a page based on number of incoming links. Another form of link analysis used by the intelligence community focuses on the transactions between people, organizations, places and time as exemplified by Palantir software.</span><br />
<span style="font-family: Arial;"><br /></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;"><span class="person_name" style="text-align: -webkit-auto;">Holden, C.&nbsp;</span><a href="http://analysisintelligence.com/terrorism/osama-bin-laden-letters-analyzed/" target="_blank">Osama Bin Laden Letters Analyzed</a>. <i>Analysis Intelligence</i>. May 4, 2012.</span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;"><br /></span><br />
<span class="person_name" style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif; font-size: x-small;">Holden, C. </span></span><span style="font-family: Verdana, sans-serif; font-size: x-small;"><a href="http://analysisintelligence.com/osint/aqap-leadership-social-network/" target="_blank">From the Bin Laden Letters: Mapping OBL’s Reach into Yemen</a></span><span style="font-family: Verdana, sans-serif; font-size: x-small;">.</span><span style="font-family: Verdana, sans-serif; font-size: x-small;">&nbsp;</span><i style="font-family: Verdana, sans-serif; font-size: small;">Analysis Intelligence</i><span style="font-family: Verdana, sans-serif; font-size: x-small;">. May 11, 2012.</span><br />
<span style="font-family: Verdana, sans-serif;"><span class="person_name" style="text-align: -webkit-auto;"><br /></span></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;"><span class="person_name" style="text-align: -webkit-auto;">Page, Lawrence</span><span style="text-align: -webkit-auto;">&nbsp;and&nbsp;</span><span class="person_name" style="text-align: -webkit-auto;">Brin, Sergey</span><span style="text-align: -webkit-auto;">&nbsp;and&nbsp;</span><span class="person_name" style="text-align: -webkit-auto;">Motwani, Rajeev</span><span style="text-align: -webkit-auto;">&nbsp;and&nbsp;</span><span class="person_name" style="text-align: -webkit-auto;">Winograd, Terry</span><span style="text-align: -webkit-auto;">&nbsp;(1999)&nbsp;</span><a href="http://ilpubs.stanford.edu:8090/422/" style="text-align: -webkit-auto;"><em>The PageRank Citation Ranking: Bringing Order to the Web.</em></a><span style="text-align: -webkit-auto;">&nbsp;Technical Report. Stanford InfoLab.</span></span><br />
<span style="text-align: -webkit-auto;"><br /></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;">Slide 12:</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;">Ultimately, all these measures of proximity are attempting to answer this question, "If you friend Joey jumped off a bridge, would you jump?" I.e., would you jump off a bridge because everyone is doing it (social influence/contagion) or would you jump because you are similar to Joey (homophily). A recent paper, Homophily and Contagion are Generally Confounded in Observational Network Studies, posits both the subject and the answer in it's title.&nbsp;</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="font-family: Verdana, sans-serif; font-size: x-small;"><span style="text-align: -webkit-auto;">Shalizi,C and A. Thomas.&nbsp;</span><span style="text-align: -webkit-auto;"><a href="http://arxiv.org/abs/1004.4704v3" target="_blank">Homophily and Contagion are Generally Confounded in Observational Network Studies</a>.&nbsp;</span><span style="background-color: #eeeeee; text-align: -webkit-auto;"><i>Sociological Methods and Research</i>, vol. 40 (2011), pp. 211-239.</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;">Slide 13:</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;">The comic XKCD manages to summarize the result in a single panel. We don't know.</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif; font-size: x-small;">Munroe, R.&nbsp;<a href="http://xkcd.com/231/" target="_blank">Cat Proximity</a>, xkcd.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;">Slide 14:</span></span><br />
<span style="text-align: -webkit-auto;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">The maxim, "Models are wrong, but are useful" has been a truism in research. The idea that models are not only wrong, but that research can be successful without them is starting to gain currency in the era of Big Data. Access to very large datasets and the capability to manipulate them inexpensively is changing how research is performed.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Allen, R. <a href="http://radar.oreilly.com/2012/04/data-analysis-products-automation-content.html" target="_blank">Data as seeds of content</a>. O'Reilly Radar. April 5, 2012.</span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;"><br /></span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Anderson, C.&nbsp;</span><span style="background-color: white; font-family: Verdana, sans-serif; text-align: left;"><a href="http://www.wired.com/science/discoveries/magazine/16-07/pb_theory" target="_blank">The End of Theory: The Data Deluge Makes the Scientific Method Obsolete</a>. <i>Wired Magazine</i>. June 23, 2008.</span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Slide 15:</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">With large numbers on our side, petabytes or even yottabytes of data can reveal patterns not possible with sampled data.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Shaw, A. <a href="http://owni.eu/2012/04/04/big-data-gamification-and-obama-2012/" target="_blank">Big Data, Gamification and Obama 2012</a>.</span><span style="background-color: white; font-family: Verdana, sans-serif; line-height: 38px; text-align: left; text-transform: uppercase;">&nbsp;OWNI.EU. April 4, 2012.</span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Slide 16:</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Flip Kromer of Infochimps illustrates how a preponderance of data leads us to determine the boundaries of places called Paris and which location is the one used in a particular context</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Kromer, F.&nbsp;</span><span style="background-color: white; font-family: Helvetica, Arial, sans-serif; line-height: 1.125;"><a href="http://blog.infochimps.com/2011/12/01/on-being-wrong-in-paris-finding-truth-in-wrong-answers/" target="_blank">On Being Wrong In Paris: Finding Truth in Wrong Answers</a>. <i>The Infochimps Blog</i>. Dec 1, 2011.</span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Slide 17:</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Third party agents are continuously collecting information about people from social media, social networks, and ecommerce. This provides a wealth of data about people for a third party perspective. In addition, the quantified self is a concept where individuals document every aspect of their lives in order to optimize their day to day interactions.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">However, Goodhart's law stipulates that any indicator used to influence a particular behavior will decrease the usefulness of that indicator. In other words, users will game the system and degrade the quality of the information in order to achieve the objective</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Doctrow, C.&nbsp;</span></span><span style="font-family: Verdana, sans-serif; font-size: x-small;"><span style="background-color: white; line-height: 1em; text-align: left;"><a href="http://boingboing.net/2010/04/29/goodharts-law-once-y.html">Goodhart's Law: Once you measure something, it changes</a></span></span><span style="background-color: white; font-family: Verdana, sans-serif; font-size: x-small; line-height: 1em; text-align: left;"><a href="http://./">.</a> boingboing.net. April 29, 2010</span></div>
<div style="text-align: -webkit-auto;">
<span style="background-color: white; font-family: Verdana, sans-serif; font-size: x-small; line-height: 1em; text-align: left;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Sharwood, S.&nbsp;</span><span style="background-color: white; font-family: Arial, FreeSans, Helvetica, sans-serif;"><a href="http://www.theregister.co.uk/2012/03/06/spatial_junk/" target="_blank">Social networks breeding spatial junk</a>. <i>The Register</i>. March 6, 2012.</span></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Slide 18:</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">There is an emerging an corollary concept of the quantified self. Rather than a continuous collection of data there is an alternate of source of data that reflects information selected and shared but not for the purposes of participating in social networks, i.e. a view to a person's internal life. For example, Amazon collects highlighted phrases from Kindle users as well collecting wish lists which represent material culture.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
</div>
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Carrigan, M.&nbsp;<a href="http://markcarrigan.net/2012/04/19/mass-observation-quantified-self-and-human-nature/" target="_blank">Mass observation, quantified self, and human nature</a>. markcarrigan.net. April 19, 2012.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;">Currion, P.&nbsp;<a href="http://www.currion.net/2011/11/30/the-qualified-self/" target="_blank">The Qualified Self</a>.&nbsp;<i>The Unforgiving Minute</i>. November 30, 2011.</span></span><br />
<span style="font-size: x-small;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<br />
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">Slide 19:</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;">To bring it back to serendipity, perhaps it's time to re-evaluate how we understand how multiple factors affect an individual's choices. Models based on physical properties such proximity may lack the nuance necessary to explain a behavior. Simply creating a confluence of events within many possible proximal dimensions may not be enough to explain or influence. However, a new alternative is possible through the use of big data and the tools of machine learning and algorithms to describe behavior. We should harness these tools to better understand the factors that affect serendipity and let go of Newtonian models that reduce the rich interplay of social factors.</span></div>
<div style="text-align: -webkit-auto;">
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<span style="background-color: white; font-family: Arial;"><br /></span></div>
<div style="text-align: left;">
<span style="font-family: Verdana, Arial, Helvetica, sans-serif;"><br /></span></div>
<span style="background-color: white; font-family: Verdana, Arial, Helvetica, sans-serif; text-align: left;"><br /></span>
]]>
		</document>
		<document id="2bd1ef71e042a9a6166e8c89b94d5b87" url="http://sproke.blogspot.com/2012/05/shaping-data-and-re-thinking-web.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Like many IT folks who came of age in the '90s, I was trained in the intricacies of relational databases, jamming data into third normal form, creating entity-relationship diagrams, and reveling in joins and views. Boyce-Codd semper fi. I never questioned why we tortured data to conform, just assumed that it was the way it was done; i.e. I get paid because I know how to do it.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"></span><br />
<span style="font-family: Verdana, sans-serif;">I can't remember how many times I've ranted about dumb users sending an Excel file as a database. After watching <a href="http://www.slideshare.net/Dataversity/thu-1500-schiresonmaxcolor">Max Schireson's presentation</a> on Reinventing the Database, I am shamed. The gist of Schireson's presentation is that we spent a lot of time strongly and parsimoniously typing data to accomodate the technological constraints of computers when memory and disk were expensive. &nbsp;Obviously, those constraints are no longer valid.</span><br />
<div>
<span style="font-family: Verdana, sans-serif;"></span></div>
<span style="font-family: Verdana, sans-serif;">I work with the <a href="http://www.theatlanticcities.com/neighborhoods/2011/10/mapping-trees-of-new-york-one-by-one/278/">TreeKit</a> project and they collect their data in this format.</span><br />
<br />
<script src="https://gist.github.com/2790968.js?file=treekit_columns">
</script>
<span style="font-family: Verdana, sans-serif;"></span>
<span style="font-family: Verdana, sans-serif;">The project collects data about trees and treebeds along a street by measuring along the street. The begin and end coordinates of the street are extracted from a GIS and volunteers using tape measures to collect the distance between tree beds, height and width, and tree data. Using this data, we can calculate the coordinates of each treebed. The data is collected on paper and entered into a PostgreSQL database via an online form. The online form allows users to see the data as entered allowing them to make corrections during data entry, but for the sake of simplicity (i.e. network not required) volunteers use paper forms for data collection.</span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-bisIaEzWTmA/T8EGKbM-FmI/AAAAAAAABm4/pI5vcU_13R0/s1600/Screen+Shot+2012-05-26+at+11.32.12+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="332" src="http://2.bp.blogspot.com/-bisIaEzWTmA/T8EGKbM-FmI/AAAAAAAABm4/pI5vcU_13R0/s640/Screen+Shot+2012-05-26+at+11.32.12+AM.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;"></span><br />
<span style="font-family: Verdana, sans-serif;">Collecting tree data along a street in the form of a list is a very natural way for volunteers to gather information. A street is the basic entity that contains trees and treebeds and it constitutes a single record. However, data in this format violates first normal form in that holding the trees along with the street data creates repeating groups with in a single record.</span><br />
<span style="font-family: Verdana, sans-serif;"></span><br />
<span style="font-family: Verdana, sans-serif;">In an ideal relational database there would be a street table, a treebed table, and a tree table with one-to-many relationships defined between the tables. However, the data is entered into a table with repeating groups. An external java process (using GeoTools) calculates the coordinates of trees and treebeds and inserts them into Postgres/PostGIS tables so they can be displayed. &nbsp;So the mapping stack in this case is Postgres with a TileMill frontend for creating maps, which is served through MapBox.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"></span><br />
<span style="font-family: Verdana, sans-serif;">In this architecture, Postgres is grossly underutilized. Sure it stores both the raw data and the spatial data but that's all it does. The external java process that creates the spatial data is legacy code (written in an earlier iteration) can be written in something else and in fact is replicated in the data entry form in javascript. In it's simplest formulation, the data can be expressed in JSON.</span><br />
<br />
<script src="https://gist.github.com/2794671.js?file=treekit_json">
</script>
<span style="font-family: Verdana, sans-serif;">The raw data would be further transformed into tree and treebeds that are used for drawing maps. The current process calculates a geohash of the centroid of each treebed which is used as the key between trees and treebeds. This is useful for the other analysis that uses the TreeKit data. The tree and treebed data can be stored as GeoJSON, shapefiles, or any other format that TileMill supports. Postgres can be removed from the stack, because it only adds overhead and no advantages.</span><br />
<span style="font-family: Verdana, sans-serif;"></span><br />
<span style="font-family: Verdana, sans-serif;">There are situations where Postgres/PostGIS would be advantageous, such as where data changes or where additional processing or sophisticated querying is needed. Storing the data in simple format that can be easily consumed by most web applications has several advantages over storing it in a database. First, GeoJSON can be consumed directly my many web mapping clients; second, the overhead of maintaining another piece of software is removed; and finally the data can be transformed into other formats easily. So if someone hands you a Excel or csv file, try using a simpler format such as GeoJSON and simplify your web mapping stack.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
]]>
		</document>
		<document id="8d8cf7d7325206cafd4fb43de418933a" url="http://sproke.blogspot.com/2012/05/where-are-gazetteers.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Last time I checked it was 2012 and given all the excitement about open data in the US government, I would have expected the USGS (or anyone) providing a friendly GNIS based gazetteer service. I send the service a place name and a state and it returns a coordinate pair.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Sure there's Google Maps API, geonames.org, Nominatim, The National Map and a whole host of other services that require agreeing to a end user license, compile a number of data sources into one, return more than I need or want, not open data, not open source and on and on.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">In less time than I spent searching for a service, I rolled my own gazetteer of sorts. I downloaded the <a href="http://geonames.usgs.gov/docs/stategaz/NationalFile_20120416.zip">GNIS national file</a>&nbsp;and created a sqlite database</span><br />
<br />
<script src="https://gist.github.com/2565664.js?file=gnis.sql">
</script>
<span style="font-family: Verdana, sans-serif;">And here's a quick ruby script to query the database.</span><br />
<br />
<script src="https://gist.github.com/2565764.js?file=gnis_query.rb">
</script>
<span style="font-family: Verdana, sans-serif;"><br /></span>
]]>
		</document>
		<document id="ce0aae62bab3911d160f573cead54941" url="http://sproke.blogspot.com/2012/07/from-pdf-to-map.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Data is often locked up in pdf reports, and if we're lucky it may be in a structured (HTML) or semi-structured form (e.g. email). Extracting data from pdfs requires translating the data into plain text while preserving the structure as much as possible.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">One open source tool for extracting text from pdfs is the <a href="http://www.apache.org/dyn/closer.cgi/tika/tika-app-1.2.jar">Apache Project tika</a>. Tika does a reasonably good job of extracting text and preserving the structure. For this example, we'll parse the <a href="http://www.bradycampaign.org/xshare/pdf/major-shootings.pdf" target="_blank">Brady Campaign's Mass Shootings in the United States Since 2005</a> document. Looking at the document we can see that it has a structure of location, date and description. Buried in the description is the source in parentheses.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3185917.js?file=semi-structured.txt">
</script>
</span><br />
<span style="font-family: Verdana, sans-serif;">To extract the text from the pdf to plain text use tika. Note that you will need to have java installed in order to run tika</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3185937.js?file=tika.sh">
</script>
</span><br />
<span style="font-family: Verdana, sans-serif;">The plain text file also contains the footer from the document. In the case of this document which has approximately 62 pages, I find it faster to remove the footer text using a text editor such as vim, emacs, or textmate. If the document was longer than 100 pages, then I would try to be more clever and use a unix utility such as sed or grep to find and remove these lines.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Once the title, footer, and extraneous text are removed separated by one to several newlines. So we have incidents, that include location, date and description, separated by one or several newlines. The new lines act as separators between incidents. The parse_brady.rb script reads the file line-by-line, if the line is not empty then it adds the line as an element to the <i>ary</i> array. When the line is empty, it processes <i>ary</i>&nbsp;by joining all the lines from description into a single line, slices the description array elements form <i>ary</i>&nbsp;and puts them into the <i>row</i> array, then add the single line description back to <i>row</i>, so that it only contains three elements.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">The first element of <i>row</i>&nbsp;is the location, this split into place and city and the geocode function is called. The geocode function returns either the coordinates if successful or an array with two nil members. The coordinates are added to <i>row</i>. The <i>row</i> is written as a tab delimited string to stdout where it can be redirected to a file.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3219509.js?file=parse_brady.rb">
</script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />Inspecting the resulting file shows that there are coordinates missing as well as inconsistencies in the date formatting. Some of the geocodes failures are due to misspellings (St.Louis versus St.Louis) or to places such as counties that are not in the GNIS database. I manually cleaned up the misspellings and dates and ran the parser again, then added the county coordinates from Wikipedia.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />While there are numerous ways to make a map from a tab delimited file, such as Google Fusion tables, TileMill and GeoCommons; I decided to use <a href="http://cartodb.com/">CartoDB</a> to try out their offering. The process is simple, create an account, upload your data, and style it accordingly.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<iframe height="220" src="https://spara.cartodb.com/tables/brady_campaign/embed_map" width="572"></iframe>
</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">In a follow up post, I'll go through the steps to make the map more legible using TileMill as a Carto style editor and by using the CartoDB API to make the map more interactive.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;"><a href="http://sproke.blogspot.com/2012/08/visualizing-data-from-pdf.html" target="_blank">Part 2: Visualizing from a PDF</a>&nbsp;</span>
]]>
		</document>
		<document id="47a988284f83f075ff52ca526647e503" url="http://sproke.blogspot.com/2012/07/my-review-of-postgresql-up-and-running.html"><![CDATA[<div class="hreview"><div class="item"><p><a href="http://oreilly.com/product/0636920025061.do">Originally submitted at O'Reilly</a></p><div><img src="http://images.powerreviews.com/images_products/06/58/17179782_100.jpg" class="photo" align="left" style="margin: 0 0.5em 0 0"><p style="margin-top:0">A Practical Guide to the Advanced Open Source Database</p></div><a href="http://shop.oreilly.com/product/0636920025061.do" style="display: none;" class="url fn"><span class="fn">PostgreSQL: Up and Running</span></a></div><br clear="left"><p><strong class="summary">Good overview + new features in 9.1-9.2</strong></p><div>By <strong>spara</strong> from <strong>San Antonio, TX</strong> on <strong><abbr title="2012729T1200-0800" class="dtreviewed" style="border: none; text-decoration: none;">7/29/2012</abbr></strong></div><p><div style="margin: 0.5em 0; height: 15px; width: 83px; background-image: url(http://images.powerreviews.com/images/stars_small.gif); background-position: 0px -180px;" class="prStars prStarsSmall">&nbsp;</div></p><div style="display: none"><span class="rating">5</span>out of 5</div><p><strong>Pros: </strong>Well-written, Helpful examples, Accurate, Easy to understand, Concise</p><p><strong>Cons: </strong>A little too colloquial</p><p><strong>Best Uses: </strong>Reasonably experienced, Intermediate</p><p><strong>Describe Yourself: </strong>Data monkey, Occasional devops, Developer</p><p style="margin-top:1em" class="description">PostgreSQL: Up and Running is a book for experienced PostgreSQL users and people comfortable around RDBMS such as Oracle or SQLSever. This is definitely not a book for someone starting out with PostgreSQL.<br xmlns:pr="xalan://com.pufferfish.core.beans.xmlbuilders.xsl.Functions"><br>For me, the book is a practical reference that begins to answer questions but directs the reader for more detailed information from other resources that are hyperlinked in the book. I'm a long time user of PostgreSQL 8.4, so the book provides an overview of features that are/will be available in 9.1 and 9.2. For example, the serial data type auto-increments integers is now available. Previously, you had to create a sequence object and use it when creating the table. I also learned about arrays for the first time which have been around since 8.3. Certainly a very handy datatype to have.<br><br>A nice feature in 9.1 is the ability to load new extensions with the CREATE EXTENSION command. I use PostGIS frequently, and previously you would have to run sql scripts to create a template database and use that to create a spatial database. With CREATE EXTENSION, you can add PostGIS data types, objects, and functions to an existing database.<br><br>The book also covers the standard SQL tables, indexes and views as implemented in PostgreSQL. Writing your own functions and aggregates are touched on and examples are provide. Query performance tuning is covered and typical sql errors, such as overusing subqueries (guilty), are discussed and examples for improving performance are given. Basic replication is also discussed as well options for hosting PostgreSQL.<br><br>PostgreSQL: Up and Running also gives a sneak preview of new features such as Foreign Data Wrappers for working with data from web APIs, plPython for writing functions in Python or in other supported languages, native JSON output, and the list goes on. The book shows that PostgreSQL is flexible and extensible.<br><br>I enjoyed reading the book. It was easy to understand, had good examples, and I learned about new capabilities. The book covers much ground, but goes into sufficient depth to gain an understanding, and it provides additional resources for more in depth treatments of topics. It's a mile wide, deep enough and a good reference for an experienced user.</p><p style="margin-top:0.5em">(<a href="http://www.powerreviews.com/legal/terms_of_use.html" rel="license">legalese</a>)</p></div>
]]>
		</document>
		<document id="653b75b03f100561002e5b2b98f14c2c" url="http://sproke.blogspot.com/2012/07/setting-up-postgresapp-with-postgis.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">I should know better, but I'm a sucker for an upgrade. I upgraded to OS X Mountain Lion and a number of apps I use wouldn't start. A brew installed version of PostgreSQL couldn't start because the postgres user was changed to nobody. For some reason, I couldn't su to nobody or create a new postgres user using dscl.</span>
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The data on the database wasn't particularly large and I also had the scripts to reload the data so I decided to try <a href="http://postgresapp.com/">Heroku's postgres.app</a> install of postgres.</span>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Installation is simple. Download the app and unzip into the Applications directory. Double click to start, and the postgres icon will appear on the task bar.</span>

<span style="font-family: Verdana, sans-serif;"><br /></span>
<br />
<span style="font-family: Verdana, sans-serif;">In order to use the commandline tools, you will need to set the path to the postgres.app binaries. Add this to your .bash_profile or wherever your paths are set in you .dot files. (note: <a href="https://twitter.com/mweisman">@mweissman</a> suggested this is unnecessary on OSX Lion 10.7 and higher because PostgreSQL and the client tools are already part of the operating system.)</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3184591.js?file=setpath.sh">
</script>
</span><br />
<span style="font-family: Verdana, sans-serif;">In the terminal, connect to the postgres using psql and create a database. Connect to the database and add the PostGIS extension.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3184617.js?file=createdb.sql">
</script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />Now that the PostGIS extension has been added to your database, creating table is straight forward. In this example, I'm creating a table from a CSV file with point geometry and creating a spatial index on the geometry.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3184670.js?file=create_point.sql">
</script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />And that's it, quick and simple.</span>
]]>
		</document>
		<document id="7771907df006475fef13f7d5d2a063ea" url="http://sproke.blogspot.com/2012/08/etymology.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">A friend in grad school used to go around the office and exhort us to 'go eat' lunch together. Eventually this just became "gweet."</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">Similarly, an engineer I worked with would build applications using java jars built by another part of our company. I would ask him how his project was going after the jar update and he would invariably say "It's broke." Over time, this elided into 'sproke.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">*True story: One Christmas, I bought everyone a computer bag with <a href="http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/NullPointerException.html" target="_blank">NPE</a> embroidered on it because everything was 'sproke.</span>
]]>
		</document>
		<document id="5a26b6fba86b6fa0c7cef55d05021071" url="http://sproke.blogspot.com/2012/08/notes-on-getting-cartodb-vm-working-in.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">I've been wanting to play some more with CartoDB but I've been traveling and my Internet connection has been provided courtesy of whatever cell tower is close by. A VMWare Ubuntu virtual machine is available at </span><a href="http://blog.lolo.asia/cartography/2012/06/11/cartodb-ec2-ami-vmdk-vm-available/" style="font-family: Verdana, sans-serif;" target="_blank">aux 2 centimes</a><span style="font-family: Verdana, sans-serif;">. Great if your operating system is Windows or linux because VMWare provides a free player to run the VM. On OSX, VMware Fusion can run the VM but it's not free.</span><br />
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">The free alternative is Virtual Box, but it requires converting the VMWare vmdk file to an the open ovf format. Before converting the vmdk file, you will need to use your favorite OSX rar archive tool (<a href="http://gp.home.xs4all.nl/Site/MacPAR_deLuxe.html" target="_blank">MacPar</a>, <a href="http://www.unrarx.com/" target="_blank">UnRarX</a>) to reassemble the CartoDB vm which is split into three rar files.&nbsp;</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Download the <a href="http://www.vmware.com/support/developer/ovf/" target="_blank">ovftool from VMWare</a> and install. Before converting the vmdk to an ovf file you will need to edit the vmx file so that the path to the vmdk is not hardcoded.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /><script src="https://gist.github.com/3324817.js?file=cartodb.vmx"></script></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Convert the vmdk to an ova file.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3324828.js?file=convert_vmdk.sh"></script>
</span></div>
<div>
<span style="font-family: Verdana, sans-serif;">Import the ova into VirtualBox and accept the default settings, they can be changed later.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-x7xe4sTlwt0/UCZupNIZicI/AAAAAAAABxM/I2s9PGxNanI/s1600/importova.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-x7xe4sTlwt0/UCZupNIZicI/AAAAAAAABxM/I2s9PGxNanI/s1600/importova.png" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<br />
<div>
<span style="font-family: Verdana, sans-serif;">The next step is to configure the VirtualBox network so that CartoDB is accessible to your host machine. To do this setup the Host-only Adapter. The Host-only Adapter creates a private network that between the host machine and guest machines.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-1MzM6dpNKWU/UDzPwOeVs8I/AAAAAAAABx4/Lw1PvfAsN0g/s1600/Screen+Shot+2012-08-28+at+9.02.43+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="332" src="http://4.bp.blogspot.com/-1MzM6dpNKWU/UDzPwOeVs8I/AAAAAAAABx4/Lw1PvfAsN0g/s400/Screen+Shot+2012-08-28+at+9.02.43+AM.png" width="400" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">The vboxnet0 Host-only Adapter is configured from the VirtualBox Preferences menu.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-HB8NQ-YbNbw/UDzSR2WtMiI/AAAAAAAAByI/ILIpIHX7QQI/s1600/Screen+Shot+2012-08-28+at+9.14.02+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="288" src="http://3.bp.blogspot.com/-HB8NQ-YbNbw/UDzSR2WtMiI/AAAAAAAAByI/ILIpIHX7QQI/s400/Screen+Shot+2012-08-28+at+9.14.02+AM.png" width="400" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Click on the 'Edit' or screwdriver icon to display the configuration menu. Note that the adapter's address is 192.168.56.1, which is the IP address that the guest machine accesses the host.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-IwC6vdiIa9o/UDzS83X-toI/AAAAAAAAByQ/n2T-rR0mH6E/s1600/Screen+Shot+2012-08-28+at+9.16.54+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="191" src="http://1.bp.blogspot.com/-IwC6vdiIa9o/UDzS83X-toI/AAAAAAAAByQ/n2T-rR0mH6E/s400/Screen+Shot+2012-08-28+at+9.16.54+AM.png" width="400" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Now that we know the adapter's address, we can configure the network interface of the guest to have a static IP that is addressable from the host machine. Edit the /etc/network/interfaces file as root to set the static address. It should look like this:</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3498479.js?file=interface.config"></script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />Reboot the guest to start the network with the assigned static IP.</span><br />
<br />
&nbsp;<span style="font-family: Verdana, sans-serif;"><br />The CartoDB virtual machine is configured with two accounts, a devuser account and an admin account. To access these accounts, two URLs have been configured: http://devuser.localhost.lan (user/password: devuser/devuser) and http://admin.localhost.lan (user/password: admin/admin).&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">To access these accounts configure the /private/etc/hosts file on the host side (OSX) by adding these entries:</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3498590.js?file=hosts"></script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />After updating the hosts file, we can access our local instance of CartoDB through a browser. Note: add 'http://' to the URL so that the browser knows you are looking for the local CartoDB site. The devuser map looks like this:</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://2.bp.blogspot.com/-4CF529dRSE8/UDzZ6AJkBNI/AAAAAAAAByk/l4vC7RyyLbQ/s1600/Screen+Shot+2012-08-28+at+9.46.18+AM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="570" src="http://2.bp.blogspot.com/-4CF529dRSE8/UDzZ6AJkBNI/AAAAAAAAByk/l4vC7RyyLbQ/s640/Screen+Shot+2012-08-28+at+9.46.18+AM.png" width="640" /></a></div>
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Happy mapping!</span></div>

]]>
		</document>
		<document id="a4e91712f3ce0931aa95697b0b7d6fee" url="http://sproke.blogspot.com/2012/08/visualizing-data-from-pdf.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">In my <a href="http://sproke.blogspot.com/2012/07/from-pdf-to-map.html" target="_blank">previous post</a>, I scraped the data from a PDF and wrote it to a CSV file. I uploaded the data to CartoDB to make a quick map using the "Share This Map" function on the CartoDB site.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<iframe height="420" src="https://spara.cartodb.com/tables/brady_campaign_shootings/embed_map" width="650"></iframe>
</span><br />
<span style="font-family: Verdana, sans-serif;"><br />I received a number of comments on the map, mostly about making it more legible by separating out the years and providing more information about each incident. In the spirit of <a href="http://mapbrief.com/2012/08/01/how-the-public-actually-uses-local-government-web-maps-metrics-from-denver/">Brian Timoney's post on how web maps are actually used</a>, I decided to keep the map as simple as possible.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">After reading the API&nbsp;documentation and looking at the examples, I used the <a href="http://developers.cartodb.com/examples/data-interaction.html" target="_blank">Data Interaction</a> example as the starting point for my map. One of the comments I received was to separate the incidents by year. The interesting part of the example is that it shows how to dynamically change what is presented on a map by changing the values in a SQL query. That's very powerful because you have the data handling and geoprocessing capabilities of PostgreSQL and PostGIS available in your map client. Here's the map with a control to show incidents by year. (The blog form squeezes the map, the <a href="http://www.locationdataservices.com/cartodb/cartodb_example.html" target="_blank">see the full map here</a>.)</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<iframe height="560" src="http://locationdataservices.com/cartodb/cartodb_example.html" width="650"></iframe>
</span><br />
<span style="font-family: Verdana, sans-serif;"><br />The script for the map is below.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3239785.js?file=cartodb_example.html"></script>
</span><br />
<span style="font-family: Verdana, sans-serif;">One of the nice things about the map is that it doesn't use external mapping client libraries. It's simple and shows the user where the incidents&nbsp;occurred. However, I would like to show more information about each incident through a popup. CartoDB plays well with leaflet, modestmaps.js, and wax, and it's easy to extend the basic map with these libraries. In the following map, I used leaflet and the CartoDB popup script to make a popup containing the description of each incident when a marker is clicked. (As with the other map, the <a href="http://www.locationdataservices.com/cartodb/carto-leaflet.html" target="_blank">full size map can be viewed here</a>.)</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<iframe height="560" src="http://locationdataservices.com/cartodb/carto-leaflet.html" width="650"></iframe>
</span><br />
<span style="font-family: Verdana, sans-serif;"><br />The script for the clickable map is below:</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/3239903.js?file=carto-leaflet.html"></script>
</span><br />
<span style="font-family: Verdana, sans-serif;">The script essentially the same as the previous script but it uses leaflet.js to add a base map from MapBox and the leaflet-carto.js to add the Major Shootings layer from CartoDB. Switching between years is handled differently from the previous example. The resetLayer&nbsp;function uses the setOptions function to update the query for each year. Note that I cheated a little and put the operator as part of the value, e.g. '= 2005". It was the most direct solution to handling the 'all' case in the SQL statement, which required that query for all the records as part of a SQL WHERE clause. I admit that putting the number of incidents on the buttons is cheesy; and if I had more time, I would put a label that would change on top of the map that read "x incidents in xxxx" when a different year is selected..&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">I like CartoDB because it's flexible and agnostic with regards to client mapping libraries. Building a simple mapHowever, what I find exciting is that CartoDB puts an API in front of PostgreSQL and PostGIS. This opens up all sorts of possibilities and removes the need to preprocess&nbsp;or reformat data to create a visualization.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span><br />
<span style="font-family: Verdana, sans-serif;">The project file is available <a href="http://locationdataservices.com/cartodb/sproke-cartodb.tar.gz" target="_blank">here</a>.</span><br />
<br />
]]>
		</document>
		<document id="4bd96070aa33030a49a6618a9092628d" url="http://sproke.blogspot.com/2012/09/code-for-america-austin-hackathon-buses.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Last Saturday, I participated in the Code for America Austin Hackathon and was impressed by the people who attended. The crowd ranged from very experienced coders to folks who understood and could articulate a real problem as well as policies surrounding the problem. When I said well attended, did I mention that the City of Austin CIO and some of his staff were also there to help out? (Wink, wink, nudge, nudge, say no more to @COSAGOV and rising Democratic political star San Antonio Mayor Julian Castro @juliancastro).</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Projects proposed at the hackathon ranged from automating <a href="http://codeacrossaustin.wikispaces.com/Campaign+Finance" target="_blank">campaign finance</a>&nbsp;forms&nbsp;for the City of Austin, <a href="https://pbs.twimg.com/media/A2TsrnhCMAAFcy3.jpg:large" target="_blank">mapping bike routes</a> and amenities, creating a <a href="https://pbs.twimg.com/media/A2TrsyDCUAEN0CB.jpg" target="_blank">mobile app</a> and API for the &nbsp;<a href="http://www.auntbertha.com/" target="_blank">Aunt Bertha</a> service which matches people to services, an online form for clients of the Homeless RV project, and improving bus transportation for riders.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">I fell in with the bus group and the problem was presented by Glenn Gabois of <a href="http://movabilityaustin.org/" target="_blank">Movability Austin</a>. The problem we focused on was notifying riders the location and time of arrival of their bus while they wait at their stop. &nbsp;Capital Metro, Austin's transportation agency, currently does not provide a feed for their buses while they are in transit. So we divide the problem into three componentes:</span><br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">a crowd sourced bus tracking application</span></li>
<li><span style="font-family: Verdana, sans-serif;">the server side infrastructure to provide bus data</span></li>
<li><span style="font-family: Verdana, sans-serif;">a mobile application that tells rider a bus' current stop and the number of stops away</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">Crowd sourcing real time bus locations was an interesting discussion, the group discussed how a mobile app could be used to track buses. Some of the features of the app included:</span><br />
<br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">would not require user to turn while on the bus or turn off when off the bus</span></li>
<li><span style="font-family: Verdana, sans-serif;">determine which stop where the user boarded the bus</span></li>
<li><span style="font-family: Verdana, sans-serif;">disambiguate between buses that used the same stops</span></li>
</ul>
<div>
<span style="font-family: Verdana, sans-serif;">The group discussion resulted in a mobile application that ran as a background process on a smart phone that would start sending coordinates when the accelerometer registered a change in speed. Determining which bus a rider boarded was a tougher problem and solutions ranged from QR codes on buses (rejected because it required the user to interact with the application), RFID (problematic because of equipment costs), and NFC (Near Field Communication is relatively new an not a common features on smart phones). In the end, the group centered on algorithmically determining the bus and the route based on data sent by the mobile application. Although this was an interesting discussion, the group decided not to address this problem</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">In order to use crowd sourced bus tracking data, the group discussed a service architecture to receive the bus tracking coordinates and compare them against the current transit data which Capital Metro provided as GTFS (General Transit File Specification) and as ESRI shape files. &nbsp;We didn't spend much time discussing this part of the solution and I didn't feel up to the task of setting up a cloud based instance of PostgreSQL and importing the GTFS data into the data base (however, I later proved myself wrong and imported the GTFS data in PostgreSQL and created a <a href="http://codeacrossaustin.wikispaces.com/file/view/austin_gtfs.sql.gz" target="_blank">sql dump</a> of the database for anyone who wants to use it). For a quick feel good burst of "we're doing something", I uploaded the shape file data to <a href="http://www.locationdataservices.com/movabilitymap.html" target="_blank">Google Fusion Tables for a quick map</a>. We had five hours to build and demo something at the end of the day.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">The group decided to focus on the bus stop application (working title of Bus Time). Naqi Sayed and Kevin Reilly of Hidaya Solutions (@HidayaSolutions) worked on an Android application for determining how many stops away from a rider's current bus stop. With the clock ticking, the group decided that the application would work of just one trip of a single route. My contribution to the group was to rework the GTFS files into a single workable data sets. The GTFS data consisted of the following files</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"></span><br />
<blockquote class="tr_bq">
<span style="font-family: Verdana, sans-serif;">agency.txt</span><br />
<span style="font-family: Verdana, sans-serif;">amenities.txt</span><br />
<span style="font-family: Verdana, sans-serif;">calendar.txt</span><br />
<span style="font-family: Verdana, sans-serif;">calendar_dates.txt</span><br />
<span style="font-family: Verdana, sans-serif;">fare_attributes.txt</span><br />
<span style="font-family: Verdana, sans-serif;">fare_rules.txt</span><br />
<span style="font-family: Verdana, sans-serif;">routes.txt</span><br />
<span style="font-family: Verdana, sans-serif;">shapes.txt</span><br />
<span style="font-family: Verdana, sans-serif;">stop_times.txt</span><br />
<span style="font-family: Verdana, sans-serif;">stops.txt</span><br />
<span style="font-family: Verdana, sans-serif;">trips.txt</span></blockquote>
<span style="font-family: Verdana, sans-serif;">
Using the <a href="https://developers.google.com/transit/gtfs/reference" target="_blank">GTFS Reference</a>, I was able to decode how to get from a route to a list of stops. In our case, we picked a route and a trip on that routed, we then needed to find the stops for that trip. Since stops are sequential we just needed a sorted list of stops of the application.<br />
<br />
To get the list of stops, I went through the GTFS Reference to find the keys that would allow me to associated stops with a specific trip. The joins between the data tables looked like this.<br />
<br />
</span><br />
<ol><span style="font-family: Verdana, sans-serif;">
<li>Routes are comprised of trips (northbound, southbound, and time). Select a route from routes.txt, then select a trip by the route_id.</li>
<li>A single trip list stop_times. Select stop_times by trip_id.</li>
<li>Stop_times are related to stops by stop_id in the stops.txt file. Select the the stops using the stop_id.</li>
</span></ol>
<span style="font-family: Verdana, sans-serif;">
<div>
I produced a <a href="http://munged%20gtfs%20data/" target="_blank">csv file</a> that was an ordered list of the stops for the application using a combination of sed/grep/awk/bash/ruby scripting. It wasn't pretty but in worked under our time constraint.</div>
<div>
<br /></div>
<div>
Naqi already had the barebones of an Android app with geolocation so he incorporated the data into the app. I did not work on the app but I think it worked this way:</div>
<div>
<ul>
<li>the app determined the location of the rider via WiFi&nbsp;location or GPS and choose the closest stop</li>
<li>the bus position feed was simulated and was snapped to the closest stop</li>
<li>the app compared the rider's stop to the bus' stop, since it was an ordered list it was matter of counting the between the two stops</li>
</ul>
<div>
In Lean Startup speak, the minimum viable product (MVP) was this application.</div>
</div>
<div>
<br /></div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-NAnI4LwYhME/UE4nUeCT-FI/AAAAAAAABy8/zp5bMOfNRWw/s1600/bustime.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-NAnI4LwYhME/UE4nUeCT-FI/AAAAAAAABy8/zp5bMOfNRWw/s320/bustime.jpg" width="240" /></a></div>
<div>
<br /></div>
</span></div>
<div>
<span style="font-family: Verdana, sans-serif;">To me, it was amazing that a group of people who had just met could hammer out an application in six hours. Everyone brought something to the table that contributed to the overall goal. I learned lots of new things from other folks and also some technical lessons along the way, such as importing GTFS data into a database </span><a href="https://github.com/cbick/gtfs_SQL_importer" style="font-family: Verdana, sans-serif;" target="_blank">using these scripts</a><span style="font-family: Verdana, sans-serif;">.&nbsp;</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">We did what we did because we had to explore a problem, generate solutions, and implement one of then in six hours. Now that I've had a little more time to think about it, I think we could vastly improve the application by importing the GTFS data into Sqlite and using it directly in the application. The application would then have every route, trip, fares, and amenities available. The application could then just subscribe to real-time transit feed without having to deploy application back end. Additionally, we could revisit the QR code idea. Instead of riders with a crowd sourcing app, the QR code would be on the bus and the reader would be at each stop, as buses load and unload passengers the QR code reader could send the bus information to the real-time transit feed.</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
<div>
<span style="font-family: Verdana, sans-serif;">As you can see the ideas keep flowing, but it's important to remember that creating a mobile application would have been impossible with open data in the form of GTFS.&nbsp;</span></div>
<div>
<span style="font-family: Verdana, sans-serif;"><br /></span></div>
</div>

]]>
		</document>
		<document id="adf5e3a27f5be1d3004d786c9eefd4a3" url="http://sproke.blogspot.com/2012/11/hacking-common-operating-picture.html"><![CDATA[<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;">“<a href="http://www.thedailybeast.com/articles/2012/11/05/mayor-bloomberg-s-response-to-sandy-leaves-many-new-yorkers-out-in-the-cold.html" target="_blank">Where’s the common operational picture? How can you get timely and accurate reporting without it</a>?"</span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;">I've assisted on several disaster relief efforts since Hurricane Katrina and they have all needed a way to communicate where resources are and where they are needed. In military jargon, this is called a common operating picture or a COP. The most common interface for a COP is a map because it is easy to reference, although there is a case to made for a COP that also shows resources and needs by priority.&nbsp;</span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;">Google Maps has made mapping accessible to the public. I first saw this during Katrina when people used Google Earth to link photos to locations in KMLs so that Katrina refugees could see flooded and damaged areas. I've also seen the availability of other mapping platforms and services such as Ushahidi and CartoDB increase, but it seems most people turn to Google Maps/Earth to create maps and data. While Google Earth has lowered the barrier to creating maps, it still requires a modicum of training in order to keep the map updated with the latest information.</span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;">I responded a request to help out with Occupy Sandy Staten Island with their map of resources. They had a map but things were rapidly changing and they wanted a volunteer to be able to update the map. The current map was in Google Maps, so I downloaded a KML of the map as a starting point.&nbsp;</span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<br />
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-j6pDv0hI2n8/UJ2EqWFBBsI/AAAAAAAAB0Q/nCHklU-qJ_k/s1600/Screen+Shot+2012-11-09+at+4.32.39+PM.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-j6pDv0hI2n8/UJ2EqWFBBsI/AAAAAAAAB0Q/nCHklU-qJ_k/s1600/Screen+Shot+2012-11-09+at+4.32.39+PM.png" /></a></div>
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><b>Consistent Look and Feel</b></span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;">Although there are many mapping platforms available, I decided to stick with Google infrastructure because Occupy Sandy Staten Island were already using it. To make the KML editable, I imported it into Google Fusion Tables which brought in the data but not the styling. I wanted the icons and style for each zone (polygonal area) to be consistent with the existing maps. That means that drop off points, shelters, and operations centers would always have the same symbology without the user having to pick and choose an icon or style every time a new point was added to the map.</span></span><br />
<span style="color: #333333; line-height: 21px;"><span style="font-family: Verdana, sans-serif;"><br /></span></span>
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;">Google Fusion Tables supports setting styles based on a column value. Google provides a<a href="http://support.google.com/fusiontables/answer/2476954/?hl=en&amp;topic=29372&amp;ctx=topic" target="_blank"> tutorial showing how to merge tables to apply map styles by column</a>. The tutorial shows how to create a columns in both the styles table and the data table that act as a key. In this case, I created a column called type and populated them descriptive keys such as dropoff, shelter, etc. &nbsp;Although the tutorial shows how to set icons, map styles for polygons and lines can also be styled by column values. Merging style table to the data table results in a data table, row updates (new entries) to either the styles or data table will be displayed in the merge table. In this case, volunteers can just enter the type of point and it will be displayed with the correct symbology.</span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><br /></span></span>
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><b>Geocoding</b></span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;">One of the primary functions of a COP is to locate things. Fusion table supports several types of geometry encoding ranging from KML geometry to street addresses. Street address are automatically converted into geometry. Even a partial street address without city, state, or zipcode are intelligently gecoded based on the bounding box of all the features.</span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><br /></span></span>
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;">Adding lines or polygonal data requires digitizing and is a bit beyond the scope. I did add one polygonal area using QGIS and OpenStreet Map as a background. &nbsp;I originally exported the polygon as a KML, but for some reason QGIS outputs KML geometry in Google's World Mercator instead of WGS84 latitude/longitude coordinates in decimal degrees which is what Fusion Tables wants in the way of geography. The workaround was to export as GML and tweak the tags appropriately.</span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><br /></span></span>
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><b>Updating</b></span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;">I wanted to have a spreadsheet interface for updating the map. Why a spreadsheet and not a form or just use Fusion Tables tables directly? Most people have used a spreadsheet so the learning curve is very small. In my experience forms get in the way of data entry, having to submit an entry is just a waste of time. Fusion Tables looks like a spreadsheet but it doesn't behave like one, so that adds to the learning curve.&nbsp;</span></span><br />
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;"><br /></span></span>
<span style="color: #333333; font-family: Verdana, sans-serif;"><span style="line-height: 21px;">John McGrath wrote a script to update Fusion Tables from a spreadsheet;<a href="https://github.com/jomcgrath2/Update-Fusion" target="_blank"> it's available on github</a>. The script works but has shortcomings such as deleting all the entries in the Fusion Table before updating it. That means that you must keep and select all the previous entries in the spreadsheet instead of just updating the new entries.</span></span><br />
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-QqAYP8NkU5Q/UKKvAhI2X1I/AAAAAAAAB0w/v8gx-C_zZYs/s1600/Screen+Shot+2012-11-06+at+12.28.59+AM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="161" src="http://1.bp.blogspot.com/-QqAYP8NkU5Q/UKKvAhI2X1I/AAAAAAAAB0w/v8gx-C_zZYs/s640/Screen+Shot+2012-11-06+at+12.28.59+AM.png" width="640" /></a></div>
<br />
<span style="font-family: Verdana, sans-serif;"><b>Closing Comments</b></span><br />
<span style="font-family: Verdana, sans-serif; line-height: 21px;">This was a quick hack done over a several hours. It's certainly far from perfect but it is functional and accomplishes the basic goal of creating a consistant map that can be updated by volunteers. Here are some takeaways:</span><br />
<ul>
<li><span style="font-family: Verdana, sans-serif;">use existing infrastructure; try to avoid having to install, configure or maintain software</span></li>
<li><span style="font-family: Verdana, sans-serif;">use existing code; if you need a function, it's probably in github already</span></li>
<li><span style="font-family: Verdana, sans-serif;">make data input simple; as a volunteer translator for <a href="http://blog.crowdflower.com/2010/01/crowdsourcing-the-haiti-relief/" target="_blank">Project 4636</a>, I found forms getting in the way of entering information, so I used a spreadsheet</span></li>
<li><span style="font-family: Verdana, sans-serif;">make data input convenient; for example, Fusion Tables can geocode an address automatically</span></li>
</ul>
<br />
<br />
]]>
		</document>
		<document id="594e6b8be1b0f69b1ca939cc4aa93950" url="http://sproke.blogspot.com/2013/02/data-science-tool-kit-on-vagrant.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">Pete Warden has released a version of the Data Science Tool Kit on Vagrant. <a href="http://www.datasciencetoolkit.org/" target="_blank">DSTK is a website</a> for munging all sorts of data and includes a geocoder based on TIGER 2010. The website can be unreliable, requiring an occasional restart, so running a VM is a nice option. The vagrant version upgrades the geocoder to TIGER2012 and is a drop in replacement for Google geocoder requests. To run the DSTK locally</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Install vagrant from&nbsp;</span><a href="http://www.vagrantup.com/" style="font-family: Verdana, sans-serif;">http://www.vagrantup.com/</a><span style="font-family: Verdana, sans-serif;">. Create a directory to hold the vagrantfile, then run the following:</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<script src="https://gist.github.com/4700079.js"></script>
<span style="font-family: Verdana, sans-serif;"><br />Go to to http://localhost:8080 to start using the DSTK.</span>
<span style="font-family: Verdana, sans-serif;"><br /></span>
]]>
		</document>
		<document id="cdaf836887f949025179f2fce9b238f1" url="http://sproke.blogspot.com/2013/03/a-little-data-for-geocoding.html"><![CDATA[<span style="font-family: Verdana, sans-serif;">What's a geocoder to do without data? Fortunately, there's tons of it and more and more produced every day. I have a project where I need to verify the addresses of non-profits. The IRS provides the <a href="http://www.irs.gov/uac/SOI-Tax-Stats-Exempt-Organizations-Business-Master-File-Extract-(EO-BMF)">Statement of Information (SOI) Tax Statistics for Exempt Organizations Business Master File Extract</a>. The data is provided as both Excel files and as fixed width delimited text files. The fixed width files contain all the records and there is one per state.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Using the same<a href="http://sproke.blogspot.com/2012/01/importing-2010-sf1-census-in-postgresql.html" target="_blank"> technique</a> I used for importing 2010 Census headers, I imported each line/record as a single field into a temporary table. Using the SQL substring function, I extracted the data into their respective fields. Information about the file structure and fields are available in <a href="http://www.irs.gov/file_source/pub/irs-soi/eobk13.txt">The Instruction Booklet</a> on the download page.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Below is the script for importing the data.</span><br />
<span style="font-family: Verdana, sans-serif;"><br />
<script src="https://gist.github.com/spara/5189245.js"></script>
</span>
<span style="font-family: Verdana, sans-serif;"><br />
When all is said and done, you will have a table containing California tax exempt organizations. The next step may seem a little backward, but I exported the data back to a tab delimited text file.</span><br />
<br />
<script src="https://gist.github.com/spara/5218195.js"></script>
<span style="font-family: Verdana, sans-serif;"><br />This may seem a step backward, but until there is a built in Postgres geocoder, handling text files is simpler and faster than write code that extracts data for geocoding using an external service.</span>
]]>
		</document>
		<document id="87bc45d184334e7e5b21b1a4e39639db" url="http://sproke.blogspot.com/2013/12/whats-hot-for-geohipster-in-2014.html"><![CDATA[<span style="font-family: Verdana, sans-serif;"><b>Imagery</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;"><a href="http://www.skyboximaging.com/" target="_blank">Skybox Imaging</a> and <a href="http://www.planet-labs.com/" target="_blank">Planet Labs</a> have launched imaging satellites, expect bunch of cool new image products and imagery derived data in 2014. Also note that <a href="http://fwarmerdam.blogspot.com/" target="_blank">Frank Warmerdam</a> is at Planet Labs.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">But wait, there's more! There's another readily available source of imagery data, it's in the photos people are posting to Instagram, Flickr and Facebook. <a href="http://theconversation.com/computer-sees-your-hipster-haircut-sells-you-a-plaid-shirt-21587" target="_blank">Expect tools</a> to exploit this source of imagery.</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;"><b>Hardware hacking</b></span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;"><a href="http://www.arduino.cc/" target="_blank">Arduino</a> and <a href="http://www.raspberrypi.org/" target="_blank">Raspberrypi</a> are moving out of their respective blinky lights infancy. Geohipsters will be connecting them to sensors and talking to via node.js. Expect to see other hardware platforms such as <a href="http://tessel.io/" target="_blank">Tessel</a> making inroads on the hardware hacking movement.&nbsp;</span><br />
<span style="font-family: Verdana, sans-serif;"><br /></span>
<span style="font-family: Verdana, sans-serif;">Car hacking is still in it's infancy with <a href="http://www.youtube.com/watch?v=vQSsUPrGLHs" target="_blank">blue tooth ODBII modules</a>. But as more cars roll out as mobile platforms&nbsp;<a href="https://developer.gm.com/apis" target="_blank">replete</a> <a href="http://openxcplatform.com/" target="_blank">with a</a> <a href="http://docs.timdorr.apiary.io/" target="_blank">API</a>, car modding will be more than just chip modding for performance.</span>
]]>
		</document>
	</documents>
</author>